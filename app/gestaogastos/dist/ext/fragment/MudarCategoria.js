sap.ui.define(["apps/dflc/gestaogastos/ext/fragment/AtualizaInformacoesDaTela","sap/ui/core/Fragment"],function(a,e){"use strict";return{formatter:{formatDate:function(a){if(!a){return""}const e=new Date(`${a}T00:00:00`);const t=String(e.getDate()).padStart(2,"0");const r=String(e.getMonth()+1).padStart(2,"0");const s=e.getFullYear();return`${t}/${r}/${s}`}},mudarCategoria:async function(t){try{var r=t.getSource().getParent();var s=this.getParent().getParent();var o=s.getModel();var n=e.byId("MudarCategoria","identificadorTransacaoParaMudanca").getValue();var i=e.byId("MudarCategoria","categoriaNovaSelect").getSelectedKey();let u={};if(sap.ui.getCore().oFatura){u=sap.ui.getCore().oFatura}else{u=this.getBindingContext()?.getValue()||null}if(!u){sap.m.MessageToast.show("Erro ao receuperar informações");return}r.setBusy(true);let c="mudarCategoriaTransacao";let g=o.bindContext(`/${c}(...)`);g.setParameter("identificador",n);g.setParameter("categoria",i);await g.execute();let l=g.getBoundContext();if(l.getValue("sucesso")){a.AtualizaInformacoes(s);sap.m.MessageToast.show("Categoria ajustada com sucesso.");r.setBusy(false);r.close()}else{sap.m.MessageToast.show("Erro ao atualizar categoria.");r.setBusy(false)}}catch(a){sap.m.MessageToast.show("Erro ao atualizar categoria.");r.setBusy(false)}},cancelarMudanca:function(a){this.getParent().close()}}});
//# sourceMappingURL=MudarCategoria.js.map