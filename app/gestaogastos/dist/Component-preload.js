//@ui5-bundle apps/dflc/gestaogastos/Component-preload.js
sap.ui.require.preload({
	"apps/dflc/gestaogastos/Component.js":function(){
sap.ui.define(["sap/fe/core/AppComponent"],function(e){"use strict";return e.extend("apps.dflc.gestaogastos.Component",{metadata:{manifest:"json"}})});
},
<<<<<<< HEAD
	"apps/dflc/gestaogastos/ext/control/CustomFileUploader.js":function(){
sap.ui.define(["sap/ui/unified/FileUploader"],e=>e.extend("CustomFileUploader",{metadata:{},_sendFilesWithXHR(e){let t,a,i,s,r=this.getXhrSettings();if(e.length>0){if(this.getUseMultipart()){t=1}else{t=e.length}this._aXhr=this._aXhr||[];for(let l=0;l<t;l++){this._uploadXHR=new window.XMLHttpRequest;s={xhr:this._uploadXHR,requestHeaders:[]};this._aXhr.push(s);s.xhr.open("PUT",this.getUploadUrl(),true);if(r){s.xhr.withCredentials=r.getWithCredentials()}if(this.getHeaderParameters()){let e=this.getHeaderParameters();for(let t=0;t<e.length;t++){a=e[t].getName();i=e[t].getValue();s.requestHeaders.push({name:a,value:i})}}let t=e[l].name;let h=s.requestHeaders;s.fileName=t;s.file=e[l];this.fireUploadStart({fileName:t,requestHeaders:h});for(let e=0;e<h.length;e++){if(s.xhr.readyState===0){break}a=h[e].name;i=h[e].value;s.xhr.setRequestHeader(a,i)}}if(this.getUseMultipart()){let t=new window.FormData;let a=this.FUEl.name;for(let i=0;i<e.length;i++){this._appendFileToFormData(t,a,e[i])}t.append("_charset_","UTF-8");let r=this.FUDataEl.name;if(this.getAdditionalData()){let e=this.getAdditionalData();t.append(r,e)}else{t.append(r,"")}if(this.getParameters()){let e=this.getParameters();for(let a=0;a<e.length;a++){let s=e[a].getName();i=e[a].getValue();t.append(s,i)}}s.file=t;this.sendFiles(this._aXhr,0)}else{this.sendFiles(this._aXhr,0)}this._bUploading=false;this._resetValueAfterUploadStart()}return this},renderer:"sap.ui.unified.FileUploaderRenderer"}));
},
	"apps/dflc/gestaogastos/ext/controller/AdicionarGasto.js":function(){
sap.ui.define(["sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return{adicionarGasto:function(o){try{const o=this.editFlow.getView();const a=o.getModel();var s=function(){return new Promise(function(s,n){try{fetch(`${a.getServiceUrl()}Currencies`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(e){console.log(e);let a=await e.json();const n=new t(a.value.flat());o.setModel(n,"Moedas");s()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço de Moedas: "+e);n()});const i={Pessoa_ID:this.getBindingContext().getObject().ID};fetch(`${a.getServiceUrl()}Cartao?$filter=Pessoa_ID eq ${i.Pessoa_ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(a){console.log(a);let n=await a.json();let i;if(Array.isArray(n.value))i=n.value;else i=[n.value];const c=new t(i);o.setModel(c,"Cartoes");if(!this.pDialog){this.pDialog=e.load({id:o.getId(),name:"apps.dflc.gestaogastos.ext.fragment.AdicionarGasto"}).then(function(e){o.addDependent(e);return e})}this.pDialog.then(function(e){e.open()});s()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e);n()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}}.bind(this))}.bind(this);let n={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.editFlow.securedExecution(s,n).finally(e=>{console.log(e)})}catch(e){sap.m.MessageToast.show("Erro:"+e)}}}});
},
	"apps/dflc/gestaogastos/ext/controller/Backup.js":function(){
sap.ui.define(["sap/ui/core/Fragment"],function(t){"use strict";return{backup:function(){const i=this.editFlow.getView();if(!this._backupDialog){this._backupDialog=t.load({id:"Backup",name:"apps.dflc.gestaogastos.ext.fragment.Backup"}).then(function(t){i.addDependent(t);return t}.bind(this))}this._backupDialog.then(function(t){t.open()})}}});
},
	"apps/dflc/gestaogastos/ext/controller/CartaoObjeto.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/ui/model/json/JSONModel","apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaCartao"],function(e,t,a){"use strict";return e.extend("apps.dflc.gestaogastos.ext.controller.CartaoObjeto",{defineModeloFaturaAtual:async function(e){let t=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Panel")&&e.getId().includes("PainelSemFatura")});let a=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Panel")&&e.getId().includes("PainelFatura")||e.isA("sap.m.Panel")&&e.getId().includes("PainelTransacoes")});let i=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.VBox")&&e.getId().includes("FaturaAtualVBox")});if(Array.isArray(t)){t[0].setVisible(false)}if(Array.isArray(a)){a.forEach(e=>{e.setVisible(false)})}let s=i[0];s.setBusy(true);setTimeout(async function(){if(this.getView().getModel("ui").getData().isEditable==false){let i={};if(e){i=await e.requestObject(e.getPath())}else if(sap.ui.getCore().oCartao){i=sap.ui.getCore().oCartao}if(!i.ID){do{await this.wait();i=await e.requestObject(e.getPath())}while(!i.ID)}const r=this.getView();const n="Fatura";const l=i.ID;let o=(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"});o=o.replaceAll(","," ");let[u,c,f]=o.split(" ")[0].split("/");u=Number(u);c=Number(c);f=Number(f);if(i.DiaFechamento>i.DiaVencimento){if(c==12){c=1;f+=1}else{c+=1}}const d=r.getModel();if(i.DiaFechamento<=u){if(c<12){c+=1}else{c=1;f+=1}}let g=[new sap.ui.model.Filter("Cartao_ID",sap.ui.model.FilterOperator.EQ,l),new sap.ui.model.Filter("Ano",sap.ui.model.FilterOperator.EQ,f),new sap.ui.model.Filter("Mes",sap.ui.model.FilterOperator.EQ,c)];d.bindList(`/${n}`,null,null,g).requestContexts().then(async function(e){if(e.length>0){const t=e[0];s.bindElement(t.getPath());s.setModel(t.oModel);let n=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("transactionsTable")});if(n.length>0){var i=n[0].getBinding("items");if(i){var r=new sap.ui.model.Sorter("Data",false);i.sort(r)}}if(Array.isArray(a)){a.forEach(e=>{e.setVisible(true)})}s.setBusy(false)}else{if(Array.isArray(t)){t[0].setVisible(true)}s.setBusy(false);console.warn("Nenhuma fatura encontrada.")}}.bind(this)).catch(e=>{console.error("Erro ao buscar a fatura:",e)})}}.bind(this),5e3)},defineCategoriasFaturaAtual:async function(e){a.defineCategoriasFaturaAtual(this,e)},sleep:function(e){return new Promise(t=>setTimeout(t,e))},wait:async function(){await this.sleep(500)},override:{onInit:function(e){let a=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Panel")&&e.getId().includes("PainelSemFatura")});let i=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Panel")&&e.getId().includes("PainelFatura")||e.getId().includes("PainelTransacoes")});let s=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.VBox")&&e.getId().includes("FaturaAtualVBox")});if(Array.isArray(a)){a[0].setVisible(false)}if(Array.isArray(i)){i.forEach(e=>{e.setVisible(false)})}let r=s[0];let n={Ano:"",Mes:"",Descricao:"",ValorTotal:"",Moeda_code:"",Transacoes:[]};let l=new t(n);r.setModel(l);r.setBusy(true)},routing:{onAfterBinding:async function(e){this.defineModeloFaturaAtual(e);this.defineCategoriasFaturaAtual(e)}}}})});
},
	"apps/dflc/gestaogastos/ext/controller/ExcluirTransacao.js":function(){
sap.ui.define(["sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,a){"use strict";return{excluirTransacao:function(t){try{let t=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("i18nTransaescompras-innerTable")});let o=t[0];let s=o.getSelectedItems()[0].getBindingContext().getValue();const r=this.getBindingContext().getValue();sap.ui.getCore().oFatura=r;const i=this.editFlow.getView();const c=i.getModel();if(s.ID){var n=function(){return new Promise(function(t,n){try{fetch(`${c.getServiceUrl()}Transacao?$filter=ID eq ${s.ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(o){console.log(o);let r=await o.json();let l=Array.isArray(r.value)?r.value:[r.value];if(!o.ok){throw new Error("Erro ao selecionar transações")}s=l[0];fetch(`${c.getServiceUrl()}Transacao?$filter=Identificador eq ${s.Identificador} and ID ne ${s.ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(n){console.log(n);let o=await n.json();let r=Array.isArray(o.value)?o.value:[o.value];r=r.sort(function(e,a){return a.Parcela-e.Parcela});let c={Dados:s,Fixo:s.ParcelasTotais==1&&r.length>0?true:false,Relacionadas:r};const l=new a(c);if(!sap.ui.getCore().pDialogExcluir){sap.ui.getCore().pDialogExcluir=e.load({id:"ExcluirTransacaoFragment",name:"apps.dflc.gestaogastos.ext.fragment.ExcluirTransacao"}).then(function(e){i.addDependent(e);return e})}sap.ui.getCore().pDialogExcluir.then(function(e){e.open();e.setModel(l,"Transacao")}.bind(this));t()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço de Transações: "+e);n()})}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço de Transações: "+e);n()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}}.bind(this))}.bind(this);let t={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.editFlow.securedExecution(n,t).finally(e=>{console.log(e)})}}catch(e){sap.m.MessageToast.show("Erro:"+e)}}}});
},
	"apps/dflc/gestaogastos/ext/controller/FaturaObjeto.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaFatura"],function(e,t){"use strict";return e.extend("apps.dflc.gestaogastos.ext.controller.FaturaObjeto",{defineGraficoCategorias:async function(e){t.defineGraficoCategorias(this,e)},override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},routing:{onAfterBinding:async function(e){this.defineGraficoCategorias(e)}}}})});
},
	"apps/dflc/gestaogastos/ext/controller/MudarCategoria.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/model/json/JSONModel","sap/ui/core/Fragment"],function(e,t,a){"use strict";return{mudarCategoria:async function(i){try{let i=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("i18nTransaescompras-innerTable")});let o=i[0];let r=o.getSelectedItems()[0].getBindingContext().getValue();const s=this.editFlow.getView();const n=s.getModel();let l=s.getBindingContext().getValue();sap.ui.getCore().oFatura=l;sap.ui.core.BusyIndicator.show();if(!l.Cartao_ID){let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,l.ID)];let t=await n.bindList(`/Fatura`,null,null,e).requestContexts();if(t.length>0){l=t[0].getObject();sap.ui.getCore().oFatura=l}}if(!r.Categoria_ID){let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,r.ID)];let t=await n.bindList(`/Transacao`,null,null,e).requestContexts();if(t.length>0){r=t[0].getObject()}}if(r.Categoria_ID){let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,r.Categoria_ID)];let i=`/Categoria`;n.bindList(`${i}`,null,null,e).requestContexts().then(async function(e){if(e.length>0){for(let i of e){i=i.getValue();let e=[new sap.ui.model.Filter("Pessoa_ID",sap.ui.model.FilterOperator.EQ,i.Pessoa_ID)];let o=`/Categoria`;let l=await n.bindList(`${o}`,null,null,e).requestContexts();r.Categoria=i;let u={Dados:r,Categorias:l.map(e=>e.getObject())};const d=new t(u);if(!sap.ui.getCore().pMudar){sap.ui.getCore().pMudar=a.load({id:"MudarCategoria",name:"apps.dflc.gestaogastos.ext.fragment.MudarCategoria"}).then(function(e){s.addDependent(e);return e})}sap.ui.getCore().pMudar.then(function(e){e.open();e.setModel(d,"TransacaoMudar");sap.ui.core.BusyIndicator.hide()}.bind(this))}}}.bind(this))}else{let i={};if(sap.ui.getCore().oCartao?.Pessoa_ID){i=sap.ui.getCore().oCartao}else{let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,l.Cartao_ID)];let t=await n.bindList(`/Cartao`,null,null,e).requestContexts();if(t.length>0){i=t[0].getObject()}}if(i.Pessoa_ID){let o={ID:"sem",Nome:"Sem categoria"};let l=[new sap.ui.model.Filter("Pessoa_ID",sap.ui.model.FilterOperator.EQ,i.Pessoa_ID)];let u=`/Categoria`;let d=await n.bindList(`${u}`,null,null,l).requestContexts();if(d.length==0){e.show("Não há categorias cadastradas.");sap.ui.core.BusyIndicator.hide();return}r.Categoria=o;let g={Dados:r,Categorias:d.map(e=>e.getObject())};const p=new t(g);if(!sap.ui.getCore().pMudar){sap.ui.getCore().pMudar=a.load({id:"MudarCategoria",name:"apps.dflc.gestaogastos.ext.fragment.MudarCategoria"}).then(function(e){s.addDependent(e);return e})}sap.ui.getCore().pMudar.then(function(e){e.open();e.setModel(p,"TransacaoMudar");sap.ui.core.BusyIndicator.hide()}.bind(this))}else{e.show("Erro ao buscar categoria");sap.ui.core.BusyIndicator.hide()}}}catch(t){e.show("Erro ao buscar categoria: "+t);sap.ui.core.BusyIndicator.hide()}}}});
},
	"apps/dflc/gestaogastos/ext/controller/PessoaLista.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension"],function(e){"use strict";return e.extend("apps.dflc.gestaogastos.ext.controller.PessoaLista",{enviarAvisos:async function(e){setTimeout(async function(){let t="enviarAviso";let i=e.bindContext(`/${t}(...)`);await i.execute();const n=i.getBoundContext();console.log(n.getValue())}.bind(this),1e4)},sleep:function(e){return new Promise(t=>setTimeout(t,e))},wait:async function(){await this.sleep(500)},override:{onInit:async function(e){let t=[];t=sap.ui.core.Element.registry.filter(function(e){try{return e.isA("sap.m.Table")&&e.getId().includes("Pessoa::LineItem-innerTable")}catch(e){}});if(t.length==0){do{await this.wait();t=sap.ui.core.Element.registry.filter(function(e){try{return e.isA("sap.m.Table")&&e.getId().includes("Pessoa::LineItem-innerTable")}catch(e){}})}while(t.length==0)}t.forEach(e=>{e.getColumns().forEach(e=>{if(e.getHeader().getLabel().getText()=="Foto"){e.setImportance(sap.ui.core.Priority.High)}})})},routing:{onAfterBinding:async function(e){if(!this.AvisoEnviado){this.enviarAvisos(this.base.getModel());this.AvisoEnviado=true}}}}})});
},
	"apps/dflc/gestaogastos/ext/controller/PessoaObjeto.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/ui/core/message/Message","sap/ui/core/MessageType","apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaPessoa"],function(e,t,a,s){"use strict";return e.extend("apps.dflc.gestaogastos.ext.controller.PessoaObjeto",{defineAvisos:async function(e){setTimeout(async function(){if(this.getView().getModel("ui").getData().isEditable==false){let s=await e.requestObject(e.getPath());if(!s.ID){do{await this.wait();s=await e.requestObject(e.getPath())}while(!s.ID)}const i=this.base.getExtensionAPI();const o=[];let n=[new sap.ui.model.Filter("Pessoa_ID",sap.ui.model.FilterOperator.EQ,s.ID)];e.oModel.bindList("/Cartao",null,null,n).requestContexts().then(async function(e){if(e.length>0){let n=(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"});n=n.replaceAll(","," ");let[r,l,c]=n.split(" ")[0].split("/");e.forEach(e=>{e=e.getValue();if(e.DiaVencimento-r>=0&&e.DiaVencimento-r<2){if(o.length==0){o.push(new t({type:a.Warning,message:`A fatura do cartão ${e.NomeCartao} está vencendo`}))}}});if(s.TotalDoMes>s.ObjetivoDeGasto&&o.length==0){o.push(new t({type:a.Warning,message:"Seu gasto está acima do seu objetivo de gasto mensal"}))}if(s.TotalDoMes>s.Renda&&o.length==0){o.push(new t({type:a.Warning,message:"Seu gasto está acima mensal está superior a sua renda, fique de olho e reduza seus gastos!"}))}i.showMessages(o)}})}}.bind(this),5e3)},sleep:function(e){return new Promise(t=>setTimeout(t,e))},wait:async function(){await this.sleep(500)},defineGraficoCategoriasTotalGastos:async function(e){s.defineGraficoCategoriasTotalGastos(this,e)},defineGraficoMensalCategorias:async function(e){s.defineGraficoMensalCategorias(this,e)},limpaPrevisao:async function(){let e=sap.ui.core.Element.registry.filter(function(e){try{return e.isA("sap.m.ObjectNumber")&&e.getId().includes("TotalDoMes")||e.isA("sap.m.ObjectNumber")&&e.getId().includes("TotalDeGastos")||e.isA("sap.m.ObjectNumber")&&e.getId().includes("ValorAEconomizar")}catch(e){}});if(e.length==0){do{await this.wait();e=sap.ui.core.Element.registry.filter(function(e){try{return e.isA("sap.m.ObjectNumber")&&e.getId().includes("TotalDoMes")||e.isA("sap.m.ObjectNumber")&&e.getId().includes("TotalDeGastos")||e.isA("sap.m.ObjectNumber")&&e.getId().includes("ValorAEconomizar")}catch(e){}})}while(e.length==0)}let t=sap.ui.core.Element.registry.filter(function(e){try{return e.isA("sap.m.FlexBox")&&e.getId().includes("categoryPrevisao")||e.isA("sap.m.FlexBox")&&e.getId().includes("categoryPrevisaoTotal")}catch(e){}});if(t.length==0){do{await this.wait();t=sap.ui.core.Element.registry.filter(function(e){try{return e.isA("sap.m.FlexBox")&&e.getId().includes("categoryPrevisao")||e.isA("sap.m.FlexBox")&&e.getId().includes("categoryPrevisaoTotal")}catch(e){}})}while(t.length==0)}e.forEach(e=>{e.setNumber("");e.setUnit("")});t.forEach(e=>{e.removeAllItems();e.addItem(new sap.m.Label({text:"Faça a pesquisa inicial"}))})},override:{onInit:async function(e){let t=[];t=sap.ui.core.Element.registry.filter(function(e){try{return e.isA("sap.m.Table")&&e.getId().includes("Cartes-innerTable")}catch(e){}});if(t.length==0){do{await this.wait();t=sap.ui.core.Element.registry.filter(function(e){try{return e.isA("sap.m.Table")&&e.getId().includes("Cartes-innerTable")}catch(e){}})}while(t.length==0)}t.forEach(e=>{e.getColumns().forEach(e=>{if(e.getHeader().getLabel().getText()=="Foto"){e.setImportance(sap.ui.core.Priority.High)}})})},routing:{onAfterBinding:async function(e){this.defineAvisos(e);this.defineGraficoCategoriasTotalGastos(e);this.defineGraficoMensalCategorias(e);this.limpaPrevisao()}}}})});
},
	"apps/dflc/gestaogastos/ext/fragment/AdicionarGasto.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    id="AdicionarGasto"\n><Dialog\n        id="_IDGenDialog1"\n        title="Adicionar Gasto"\n        class="sapUiResponsivePadding"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/AdicionarGasto\'}"\n    ><content><VBox\n                id="_IDGenVBox"\n                class="sapUiSmallMargin"\n            ><Label\n                    id="_IDGenLabel7"\n                    text="Descrição"\n                    required="true"\n                /><Input\n                    id="descricaoGastoInput"\n                    value=""\n                    type="Text"\n                    textAlign="End"\n                    required="true"\n                /><Label\n                    id="_IDGenLabel8"\n                    text="Valor do Gasto"\n                    required="true"\n                /><HBox\n                    id="valorHBox"\n                    width="100%"\n                    class="sapUiNoMargin"\n                ><Input\n                        id="valorGastoInput"\n                        value="0.00"\n                        type="Number"\n                        textAlign="End"\n                        width="auto"\n                        class="sapUiTinyMarginEnd"\n                        required="true"\n                    /><Input\n                        id="moedaGastoInput"\n                        value="BRL"\n                        type="Text"\n                        textAlign="End"\n                        width="auto"\n                        class="sapUiTinyMarginEnd"\n                        required="true"\n                        showValueHelp="true"\n                        valueHelpRequest="handler.onValueHelpRequest"\n                    /></HBox><Label\n                    id="_IDGenLabel9"\n                    text="Data do Gasto"\n                    required="true"\n                /><DatePicker\n                    id="dataGastoPicker"\n                    displayFormat="dd/MM/yyyy"\n                    required="true"\n                /><Label\n                    id="_IDGenLabel10"\n                    text="Total de Parcelas"\n                    required="true"\n                /><Input\n                    id="totalParcelasInput"\n                    value="1"\n                    type="Number"\n                    textAlign="End"\n                    required="true"\n                /><VBox\n                    class="sapUiSmallMargin"\n                    alignItems="Center"\n                ><CheckBox\n                        id="gastoFixoCheckBox"\n                        text="Gasto Fixo"\n                    /><Label\n                        id="_IDGenLabel6"\n                        text="Selecionar Categoria"\n                        required="true"\n                    /><Select\n                        id="categoriaSelect"\n                        items="{\n                        path: \'Categoria\' }"\n                        required="true"\n                    ><core:Item\n                            key="{ID}"\n                            text="{Nome}"\n                        /></Select><Label\n                        text="Selecionar Cartão"\n                        required="true"\n                    /><Select\n                        id="cartaoSelect"\n                        items="{\n                        path: \'Cartoes>/\' }"\n                        required="true"\n                    ><core:Item\n                            id="_IDGenItem21"\n                            key="{Cartoes>ID}"\n                            text="{Cartoes>NomeCartao}"\n                        /></Select></VBox></VBox></content><buttons><Button\n                id="_IDGenButton1"\n                text="Cancelar"\n                press="handler.onCancelarGasto"\n            /><Button\n                id="_IDGenButton2"\n                text="Adicionar"\n                type="Emphasized"\n                press="handler.onAdicionarGasto"\n            /></buttons></Dialog></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/AdicionarGasto.js":function(){
sap.ui.define(["sap/ui/comp/valuehelpdialog/ValueHelpDialog","sap/ui/model/Filter","sap/ui/model/FilterOperator","apps/dflc/gestaogastos/ext/fragment/AtualizaInformacoesDaTela"],function(e,a,t,s){"use strict";return{onInit:function(e){console.log(e)},onCancelarGasto:function(e){this.getParent().close()},onAdicionarGasto:async function(e){try{const e=this.getParent().getParent();const g=this.getParent();g.setBusy(true);var a=e.byId("descricaoGastoInput");var t=e.byId("valorGastoInput");var o=e.byId("moedaGastoInput");var l=e.byId("dataGastoPicker");var r=e.byId("gastoFixoCheckBox");var i=e.byId("totalParcelasInput");var n=e.byId("cartaoSelect");var u=e.byId("categoriaSelect");var c=true;if(!a.getValue()){a.setValueState("Error");c=false}else if(a.getValue()==" "){a.setValueState("Error");c=false}else{a.setValueState("None")}if(!t.getValue()){t.setValueState("Error");c=false}else if(t.getValue()==0){t.setValueState("Error");c=false}else if(t.getValue()<0){t.setValueState("Error");c=false}else{t.setValueState("None")}if(!o.getValue()){o.setValueState("Error");c=false}else{let a=e.getModel("Moedas").getData().filter(e=>[o.getValue()].includes(e.code));if(a.length==0){o.setValueState("Error");c=false}else{o.setValueState("None")}}if(!l.getValue()){l.setValueState("Error");c=false}else{l.setValueState("None")}if(!i.getValue()){i.setValueState("Error");c=false}else if(i.getValue()==0){i.setValueState("Error");c=false}else{i.setValueState("None")}if(!n.getSelectedKey()){n.setValueState("Error");c=false}else{n.setValueState("None")}if(!u.getSelectedKey()){u.setValueState("Error");c=false}else{u.setValueState("None")}if(!c){sap.m.MessageToast.show("Por favor, preencha todos os campos obrigatórios.");g.setBusy(false);return}if(r.getSelected()&&i.getValue()>1){sap.m.MessageToast.show("Quando o gasto é fixo a parcela deve ser igual a 1");g.setBusy(false);return}const p=e.byId("descricaoGastoInput").getValue();const f=e.byId("valorGastoInput").getValue();const V=e.byId("moedaGastoInput").getValue();const m=e.byId("dataGastoPicker").getValue();const S=e.byId("totalParcelasInput").getValue();const h=e.byId("gastoFixoCheckBox").getSelected();const y=e.byId("cartaoSelect").getSelectedKey();const b=e.byId("categoriaSelect").getSelectedKey();const I=m.split("/");const v=`${I[2]}-${I[1]}-${I[0]}`;var d=new Date(m.split("/").reverse().join("-"));if(isNaN(d.getTime())){l.setValueState("Error");sap.m.MessageToast.show("Data inválida. Por favor, insira uma data válida.");g.setBusy(false);return}const P={pessoa:this.getBindingContext().getValue().ID,descricao:p,valor:parseFloat(f),moeda:V,data:v,parcelas:parseInt(S,10),gastofixo:h,categoria:b,cartao:y};let w="adicionarGasto";const x=e.getModel().bindContext(`/${w}(...)`);x.setParameter("pessoa",P.pessoa);x.setParameter("descricao",P.descricao);x.setParameter("valor",P.valor);x.setParameter("moeda",P.moeda);x.setParameter("data",P.data);x.setParameter("parcelas",P.parcelas);x.setParameter("gastofixo",P.gastofixo);x.setParameter("categoria",P.categoria);x.setParameter("cartao",P.cartao);await x.execute();g.setBusy(false);const D=x.getBoundContext();let M=D.getProperty("sucesso");if(M){a.setValue("");t.setValue(0);l.setValue("");i.setValue(1);r.setSelected(false);s.AtualizaInformacoes(e);sap.m.MessageToast.show("Gasto adicionado com sucesso!")}else if(D.getProperty("erro")){sap.m.MessageToast.show("Data inválida!")}}catch(e){console.log("Erro:"+e)}},onValueHelpRequest:function(s){var o=this.getParent().getParent().getParent().getParent();if(!this._oValueHelpDialog){this._oValueHelpDialog=new e({title:"Selecione a Moeda",supportMultiselect:false,key:"code",width:"200px",descriptionKey:"descr",supportRanges:false,filterMode:true,basicSearchText:"",ok:function(e){var a=e.getParameter("tokens");if(a.length>0){var t=a[0].getKey();o.byId("moedaGastoInput").setValue(t)}this._oValueHelpDialog.close()}.bind(this),cancel:function(){this._oValueHelpDialog.close()}.bind(this)});this._oValueHelpDialog.setFilterBar(new sap.ui.comp.filterbar.FilterBar({basicSearch:new sap.m.SearchField({placeholder:"Buscar...",liveChange:function(e){var s=e.getParameter("newValue");var o=new a({filters:[new a("code",t.Contains,s),new a("name",t.Contains,s)],and:false});l.getBinding("rows").filter(o)}})}));var l=this._oValueHelpDialog.getTable();l.setModel(o.getModel("Moedas"));l.bindRows("Moedas>/");l.addColumn(new sap.ui.table.Column({label:new sap.m.Label({text:"Código"}),template:new sap.m.Text({text:"{Moedas>code}"})}));l.addColumn(new sap.ui.table.Column({label:new sap.m.Label({text:"Descrição"}),template:new sap.m.Text({text:"{Moedas>descr}"})}));o.addDependent(this._oValueHelpDialog)}this._oValueHelpDialog.open()}}});
},
	"apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaCartao.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:layout="sap.ui.layout"\n><VBox\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaCartao\'}"\n    ><layout:FixFlex id="FlexCategoriasCartao"><layout:fixContent><Panel\n                    expandable="true"\n                    expanded="true"\n                    headerText="Categorias"\n                    width="auto"\n                ><content><FlexBox\n                            id="categoryCartao"\n                            alignItems="Center"\n                            justifyContent="Start"\n                            busy="true"\n                        /></content></Panel></layout:fixContent></layout:FixFlex></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaCartao.js":function(){
sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{defineCategoriasFaturaAtual:async function(e,t){try{let a=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.FlexBox")&&e.getId().includes("categoryCartao")});if(Array.isArray(a)){a.forEach(e=>{e.setBusy(true);e.removeAllItems()})}setTimeout(async function(){if(e){this.oCartaoController=e;this.oBindingContext=t}if(!this.oCartaoController){return}if(this.oCartaoController.getView().getModel("ui").getData().isEditable==false||null){if(!this.oBindingContext?.requestObject){return}let e=await this.oBindingContext.requestObject(this.oBindingContext.getPath());if(!e.ID){do{await this.oCartaoController.wait();e=await this.oBindingContext.requestObject(this.oBindingContext.getPath())}while(!e.ID)}sap.ui.getCore().oCartao=e;let t=(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"});t=t.replaceAll(","," ");let[o,i,r]=t.split(" ")[0].split("/");o=Number(o);i=Number(i);r=Number(r);if(e.DiaFechamento>e.DiaVencimento){if(i==12){i=1;r+=1}else{i+=1}}if(e.DiaFechamento<=o){if(i==12){i=1;r+=1}else{i+=1}}let n=function(e,t){let a=sap.ui.core.Element.registry.filter(function(t){return t.isA("sap.m.FlexBox")&&t.getId().includes(`${e}`)});if(a.length>0){if(t?.Categorias){a=a[0];const e=[];t.Categorias.forEach(a=>{const o=a.TotalCategoria||0;const i=a.Porcentagem;const r=new sap.m.GenericTile({id:`Cartao::${a.ID}::${crypto.randomUUID()}`,headerImage:a.Imagem,header:a.Nome,subheader:`${o} ${t.Moeda}`,frameType:"OneByOne",tileContent:new sap.m.TileContent({footer:`Gasto: ${i.toFixed(2)}%`,content:new sap.suite.ui.microchart.RadialMicroChart({size:"Responsive",percentage:i,valueColor:i>20?"Error":"Good",alignContent:"Center"})})});e.push(r)});a.removeAllItems();if(e.length==0){a.addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}else{e.forEach((t,o)=>{a.addItem(t);if(o<e.length-1){a.addItem(new sap.m.Label({text:"  --  "}))}})}a.setBusy(false)}else{a[0].removeAllItems();a[0].addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}}}.bind(this);const s=this.oCartaoController.getView().getModel();let l="recuperaCategorias",c=s.bindContext(`/${l}(...)`);c.setParameter("cartao",e.ID);c.setParameter("mes",i);c.setParameter("ano",r);await c.execute();const m=c.getBoundContext().getValue();n("categoryCartao",m);if(Array.isArray(a)){a.forEach(e=>{e.setBusy(false)})}}}.bind(this),3e3)}catch(e){console.log("Erro:"+e)}}}});
},
	"apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaFatura.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n\txmlns:layout="sap.ui.layout"\n><VBox\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaFatura\'}"\n    ><layout:FixFlex><layout:fixContent><Panel\n                    expandable="true"\n                    expanded="true"\n                    headerText="Categorias"\n                    width="auto"\n                ><content><FlexBox\n                            id="categoryFatura"\n                            alignItems="Center"\n                            justifyContent="Start"\n                            busy="true"\n                        /></content></Panel></layout:fixContent></layout:FixFlex></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaFatura.js":function(){
sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{defineGraficoCategorias:async function(e,t){try{let a=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.FlexBox")&&e.getId().includes("categoryFatura")});if(Array.isArray(a)){a.forEach(e=>{e.setBusy(true);e.removeAllItems()})}setTimeout(async function(){if(e){this.oFaturaController=e;this.oBindingContext=t}if(!this.oFaturaController){return}if(this.oFaturaController.getView().getModel("ui").getData().isEditable==false){if(!this.oBindingContext?.requestObject){return}let e=await this.oBindingContext.requestObject(this.oBindingContext.getPath());if(!e.ID){do{await this.oFaturaController.wait();e=await this.oBindingContext.requestObject(this.oBindingContext.getPath())}while(!e.ID)}let t=function(e,t){let a=sap.ui.core.Element.registry.filter(function(t){return t.isA("sap.m.FlexBox")&&t.getId().includes(`${e}`)});if(a.length>0){if(t?.Categorias){a=a[0];const e=[];t.Categorias.forEach(a=>{const o=a.TotalCategoria||0;const i=a.Porcentagem;const n=new sap.m.GenericTile({id:`Fatura::${a.ID}::${crypto.randomUUID()}`,headerImage:a.Imagem,header:a.Nome,subheader:`${o} ${t.Moeda}`,frameType:"OneByOne",tileContent:new sap.m.TileContent({footer:`Gasto: ${i.toFixed(2)}%`,content:new sap.suite.ui.microchart.RadialMicroChart({size:"Responsive",percentage:i,valueColor:i>20?"Error":"Good",alignContent:"Center"})})});e.push(n)});a.removeAllItems();if(e.length==0){a.addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}else{e.forEach((t,o)=>{a.addItem(t);if(o<e.length-1){a.addItem(new sap.m.Label({text:"  --  "}))}})}a.setBusy(false)}else{a[0].removeAllItems();a[0].addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}}}.bind(this);let a=this.oFaturaController.base.getExtensionAPI(),o=a.getModel(),i="recuperaCategorias",n=o.bindContext(`/${i}(...)`);n.setParameter("fatura",e.ID);await n.execute();const r=n.getBoundContext().getValue();t("categoryFatura",r)}}.bind(this),2e3)}catch(e){console.log("Erro:"+e)}}}});
},
	"apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaPessoa.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:layout="sap.ui.layout"\n><VBox\n    ><layout:FixFlex><layout:fixContent><Panel\n                    expandable="true"\n                    expanded="true"\n                    headerText="Análise por gasto total"\n                    width="auto"\n                ><content><FlexBox\n                            id="TotalGastosCharts"\n                            alignItems="Center"\n                            justifyContent="Start"\n                            busy="true"\n                        /></content></Panel><Panel\n                    expandable="true"\n                    expanded="true"\n                    headerText="Análise desse mês"\n                    width="auto"\n                ><content><FlexBox\n                            id="MensalCharts"\n                            alignItems="Center"\n                            justifyContent="Start"\n                            busy="true"\n                        /></content></Panel></layout:fixContent></layout:FixFlex></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaPessoa.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/core/Fragment"],function(e,t){"use strict";return{defineGraficoCategoriasTotalGastos:async function(e,t){let a=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.FlexBox")&&e.getId().includes("TotalGastosCharts")});a.forEach(e=>{e.setBusy(true);e.removeAllItems()});setTimeout(async function(){try{if(e){this.PessoaObjetoController=e;this.oBindingContext=t}if(!this.PessoaObjetoController){return}if(this.PessoaObjetoController.getView().getModel("ui").getData().isEditable==false){if(!this.oBindingContext?.requestObject){return}let e=await this.oBindingContext.requestObject(this.oBindingContext.getPath());if(!e.ID){do{await this.PessoaObjetoController.wait();e=await this.oBindingContext.requestObject(this.oBindingContext.getPath())}while(!e.ID)}let t=function(e,t){let a=sap.ui.core.Element.registry.filter(function(t){return t.isA("sap.m.FlexBox")&&t.getId().includes(`${e}`)});if(a.length>0){if(t?.Categorias){a=a[0];const e=[];t.Categorias.forEach(a=>{const o=a.TotalCategoria||0;const n=a.Porcentagem;const r=new sap.m.GenericTile({id:`Total::${a.ID}::${crypto.randomUUID()}`,headerImage:a.Imagem,header:a.Nome,subheader:`${o} ${t.Moeda}`,press:this.onPressTotal,frameType:"OneByOne",tileContent:new sap.m.TileContent({footer:`Gasto: ${n.toFixed(2)}%`,content:new sap.suite.ui.microchart.RadialMicroChart({size:"Responsive",percentage:n,valueColor:n>20?"Error":"Good",alignContent:"Center"})})});e.push(r)});a.removeAllItems();if(e.length==0){a.addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}else{e.forEach((t,o)=>{a.addItem(t);if(o<e.length-1){a.addItem(new sap.m.Label({text:"  --  "}))}})}a.setBusy(false)}else{a[0].removeAllItems();a[0].addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}}}.bind(this);let a=this.PessoaObjetoController.base.getExtensionAPI();let o=a.getModel();let n="recuperaCategoriasParaGastoTotal";let r=o.bindContext(`/${n}(...)`);r.setParameter("pessoa",e.ID);await r.execute();const s=r.getBoundContext().getValue();t("TotalGastosCharts",s)}}catch(e){console.log("Erro:"+e)}}.bind(this),2e3)},defineGraficoMensalCategorias:async function(e,t){try{let a=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.FlexBox")&&e.getId().includes("MensalCharts")});a.forEach(e=>{e.setBusy(true);e.removeAllItems()});setTimeout(async function(){if(e){this.PessoaObjetoController=e;this.oBindingContext=t}if(!this.PessoaObjetoController){return}if(this.PessoaObjetoController.getView().getModel("ui").getData().isEditable==false){if(!this.oBindingContext?.requestObject){return}let e=await this.oBindingContext.requestObject(this.oBindingContext.getPath());if(!e.ID){do{await this.PessoaObjetoController.wait();e=await this.oBindingContext.requestObject(this.oBindingContext.getPath())}while(!e.ID)}let t=function(e,t){let a=sap.ui.core.Element.registry.filter(function(t){return t.isA("sap.m.FlexBox")&&t.getId().includes(`${e}`)});if(a.length>0){if(t?.Categorias){a=a[0];const e=[];t.Categorias.forEach(a=>{const o=a.TotalCategoria||0;const n=a.Porcentagem;const r=new sap.m.GenericTile({id:`Total::${a.ID}::${crypto.randomUUID()}`,headerImage:a.Imagem,header:a.Nome,subheader:`${o} ${t.Moeda}`,press:this.onPressMensal,frameType:"OneByOne",tileContent:new sap.m.TileContent({footer:`Gasto: ${n.toFixed(2)}%`,content:new sap.suite.ui.microchart.RadialMicroChart({size:"Responsive",percentage:n,valueColor:n>20?"Error":"Good",alignContent:"Center"})})});e.push(r)});a.removeAllItems();if(e.length==0){a.addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}else{e.forEach((t,o)=>{a.addItem(t);if(o<e.length-1){a.addItem(new sap.m.Label({text:"  --  "}))}})}a.setBusy(false)}else{a[0].removeAllItems();a[0].addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}}}.bind(this);let a=this.PessoaObjetoController.base.getExtensionAPI();let o=a.getModel();let n="recuperaCategorias";let r=o.bindContext(`/${n}(...)`);r.setParameter("pessoa",e.ID);await r.execute();const s=r.getBoundContext().getValue();t("MensalCharts",s)}}.bind(this),2e3)}catch(e){console.log("Erro:"+e)}},onPressMensal:async function(a){try{const o=this.getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent(),n=this.getModel(),r=this.getBindingContext(),s=r.getObject(),i=a.getSource(),l=a.getSource().getId().split("::")[1];sap.ui.core.BusyIndicator.show();let d=function(e,t,a){const o=[];t.Cartoes.forEach((e,a)=>{let n=new sap.m.Panel({expandable:true,expanded:a==0?true:false,headerText:e.NomeCartao,width:"auto"});let r=new sap.m.Avatar({src:e.Imagem});n.addContent(r);let s=new sap.ui.layout.FixFlex;e.Faturas.sort((e,t)=>{const a=Number(e.Ano)-Number(t.Ano);if(a!==0){return a}return Number(e.Mes)-Number(t.Mes)});e.Faturas.forEach((e,a)=>{let o=new sap.m.Panel({expandable:true,expanded:a==0?true:false,headerText:`${e.Descricao}(${e.Mes}) de ${e.Ano}`,width:"auto"});o.addContent(new sap.m.Label({text:`Valor Total: ${e.ValorTotal} ${t.Moeda}`}));let n=new sap.ui.layout.FixFlex;e.Transacoes.sort((e,t)=>new Date(e.Data)-new Date(t.Data));for(const a of e.Transacoes){const e=new Date(`${a.Data}T00:00:00`);const o=e.getFullYear();const r=String(e.getMonth()+1).padStart(2,"0");const s=String(e.getDate()).padStart(2,"0");let i=new sap.m.Panel({expandable:true,expanded:false,headerText:`${a.Descricao}`,width:"auto"});let l=a?.ValorTotal||Number(a.Valor)*Number(a.ParcelasTotais);let d=new sap.m.VBox({items:[new sap.m.Label({text:`Data: ${s}/${r}/${o}`}),new sap.m.Label({text:`Total: ${l} ${t.Moeda}`}),new sap.m.Label({text:`Valor: ${a.Valor} ${t.Moeda}`}),new sap.m.Label({text:`Parcela: ${a.Parcela} de ${a.ParcelasTotais}`})]});i.addContent(d);n.addFixContent(i)}o.addContent(n);s.addFixContent(o)});n.addContent(s);o.push(n)});e.removeAllFixContent();e.addFixContent(new sap.m.VBox({alignItems:"Center",justifyContent:"Center",items:[new sap.m.GenericTile({headerImage:a.getHeaderImage(),header:a.getHeader(),subheader:a.getSubheader(),frameType:"OneByOne",tileContent:new sap.m.TileContent({footer:a.getTileContent()[0].getFooter(),content:new sap.suite.ui.microchart.RadialMicroChart({size:"Responsive",percentage:a.getTileContent()[0].getContent().getPercentage(),valueColor:a.getTileContent()[0].getContent().getValueColor(),alignContent:"Center"})})})]}));o.forEach((t,a)=>{e.addFixContent(t)})};let g="recuperaTransacoesPorCategoria",c=n.bindContext(`/${g}(...)`);c.setParameter("pessoa",s.ID);c.setParameter("categoria",l);await c.execute();const u=c.getBoundContext().getValue();if(u?.Cartoes){if(!t.byId("DetalhamentoCategoria","dialogTransacoesPorCategoria")){this._detalhamentoDialog=t.load({id:"DetalhamentoCategoria",name:"apps.dflc.gestaogastos.ext.fragment.TransacoesDaCategoria"}).then(function(e){o.addDependent(e);let a=t.byId("DetalhamentoCategoria","DetalhamentoCartoesCategoria");d(a,u,i);e.open();return e}.bind(this))}else{let e=t.byId("DetalhamentoCategoria","dialogTransacoesPorCategoria");let a=t.byId("DetalhamentoCategoria","DetalhamentoCartoesCategoria");d(a,u,i);e.open()}}else{e.show("Erro ao buscar informação:"+u)}sap.ui.core.BusyIndicator.hide()}catch(t){sap.ui.core.BusyIndicator.hide();e.show("Erro ao buscar informações:"+t)}},onPressTotal:async function(a){try{const o=this.getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent(),n=this.getModel(),r=this.getBindingContext(),s=r.getObject(),i=a.getSource(),l=a.getSource().getId().split("::")[1];sap.ui.core.BusyIndicator.show();let d=function(e,t,a){const o=[];t.Cartoes.forEach((e,a)=>{let n=new sap.m.Panel({expandable:true,expanded:a==0?true:false,headerText:e.NomeCartao,width:"auto"});let r=new sap.m.Avatar({src:e.Imagem});n.addContent(r);let s=new sap.ui.layout.FixFlex;e.Faturas.sort((e,t)=>{const a=Number(e.Ano)-Number(t.Ano);if(a!==0){return a}return Number(e.Mes)-Number(t.Mes)});e.Faturas.forEach((e,a)=>{let o=new sap.m.Panel({expandable:true,expanded:a==0?true:false,headerText:`${e.Descricao}(${e.Mes}) de ${e.Ano}`,width:"auto"});o.addContent(new sap.m.Label({text:`Valor Total: ${e.ValorTotal} ${t.Moeda}`}));let n=new sap.ui.layout.FixFlex;e.Transacoes.sort((e,t)=>new Date(e.Data)-new Date(t.Data));for(const a of e.Transacoes){const e=new Date(`${a.Data}T00:00:00`);const o=e.getFullYear();const r=String(e.getMonth()+1).padStart(2,"0");const s=String(e.getDate()).padStart(2,"0");let i=new sap.m.Panel({expandable:true,expanded:false,headerText:`${a.Descricao}`,width:"auto"});let l=a?.ValorTotal||Number(a.Valor)*Number(a.ParcelasTotais);let d=new sap.m.VBox({items:[new sap.m.Label({text:`Data: ${s}/${r}/${o}`}),new sap.m.Label({text:`Total: ${l} ${t.Moeda}`}),new sap.m.Label({text:`Valor: ${a.Valor} ${t.Moeda}`}),new sap.m.Label({text:`Parcela: ${a.Parcela} de ${a.ParcelasTotais}`})]});i.addContent(d);n.addFixContent(i)}o.addContent(n);s.addFixContent(o)});n.addContent(s);o.push(n)});e.removeAllFixContent();e.addFixContent(new sap.m.VBox({alignItems:"Center",justifyContent:"Center",items:[new sap.m.GenericTile({headerImage:a.getHeaderImage(),header:a.getHeader(),subheader:a.getSubheader(),frameType:"OneByOne",tileContent:new sap.m.TileContent({footer:a.getTileContent()[0].getFooter(),content:new sap.suite.ui.microchart.RadialMicroChart({size:"Responsive",percentage:a.getTileContent()[0].getContent().getPercentage(),valueColor:a.getTileContent()[0].getContent().getValueColor(),alignContent:"Center"})})})]}));o.forEach((t,a)=>{e.addFixContent(t)})};let g="recuperaTransacoesPorCategoria",c=n.bindContext(`/${g}(...)`);c.setParameter("pessoa",s.ID);c.setParameter("categoria",l);c.setParameter("total",true);await c.execute();const u=c.getBoundContext().getValue();if(u?.Cartoes){if(!t.byId("DetalhamentoCategoria","dialogTransacoesPorCategoria")){this._detalhamentoDialog=t.load({id:"DetalhamentoCategoria",name:"apps.dflc.gestaogastos.ext.fragment.TransacoesDaCategoria"}).then(function(e){o.addDependent(e);let a=t.byId("DetalhamentoCategoria","DetalhamentoCartoesCategoria");d(a,u,i);e.open();return e}.bind(this))}else{let e=t.byId("DetalhamentoCategoria","dialogTransacoesPorCategoria");let a=t.byId("DetalhamentoCategoria","DetalhamentoCartoesCategoria");d(a,u,i);e.open()}}else{e.show("Erro ao buscar informação:"+u)}sap.ui.core.BusyIndicator.hide()}catch(t){sap.ui.core.BusyIndicator.hide();e.show("Erro ao buscar informações:"+t)}},onPressPrevisao:async function(a,o,n){try{const r=a.getSource().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent(),s=a.getSource().getModel(),i=a.getSource().getBindingContext(),l=i.getObject(),d=a.getSource(),g=a.getSource().getId().split("::")[1];sap.ui.core.BusyIndicator.show();let c=function(e,t,a){const o=[];t.Cartoes.forEach((e,a)=>{let n=new sap.m.Panel({expandable:true,expanded:a==0?true:false,headerText:e.NomeCartao,width:"auto"});let r=new sap.m.Avatar({src:e.Imagem});n.addContent(r);let s=new sap.ui.layout.FixFlex;e.Faturas.sort((e,t)=>{const a=Number(e.Ano)-Number(t.Ano);if(a!==0){return a}return Number(e.Mes)-Number(t.Mes)});e.Faturas.forEach((e,a)=>{let o=new sap.m.Panel({expandable:true,expanded:a==0?true:false,headerText:`${e.Descricao}(${e.Mes}) de ${e.Ano}`,width:"auto"});o.addContent(new sap.m.Label({text:`Valor Total: ${e.ValorTotal} ${t.Moeda}`}));let n=new sap.ui.layout.FixFlex;e.Transacoes.sort((e,t)=>new Date(e.Data)-new Date(t.Data));for(const a of e.Transacoes){const e=new Date(`${a.Data}T00:00:00`);const o=e.getFullYear();const r=String(e.getMonth()+1).padStart(2,"0");const s=String(e.getDate()).padStart(2,"0");let i=new sap.m.Panel({expandable:true,expanded:false,headerText:`${a.Descricao}`,width:"auto"});let l=a?.ValorTotal||Number(a.Valor)*Number(a.ParcelasTotais);let d=new sap.m.VBox({items:[new sap.m.Label({text:`Data: ${s}/${r}/${o}`}),new sap.m.Label({text:`Total: ${l} ${t.Moeda}`}),new sap.m.Label({text:`Valor: ${a.Valor} ${t.Moeda}`}),new sap.m.Label({text:`Parcela: ${a.Parcela} de ${a.ParcelasTotais}`})]});i.addContent(d);n.addFixContent(i)}o.addContent(n);s.addFixContent(o)});n.addContent(s);o.push(n)});e.removeAllFixContent();e.addFixContent(new sap.m.VBox({alignItems:"Center",justifyContent:"Center",items:[new sap.m.GenericTile({headerImage:a.getTileContent()[0].getContent().getItems()[0].getSrc(),header:a.getHeader(),subheader:a.getSubheader(),frameType:"OneByOne",tileContent:new sap.m.TileContent({footer:a.getTileContent()[0].getFooter(),content:new sap.suite.ui.microchart.RadialMicroChart({size:"Responsive",percentage:a.getTileContent()[0].getContent().getItems()[1].getPercentage(),valueColor:a.getTileContent()[0].getContent().getItems()[1].getValueColor(),alignContent:"Center"})})})]}));o.forEach((t,a)=>{e.addFixContent(t)})};let u="recuperaTransacoesPorCategoria",m=s.bindContext(`/${u}(...)`);m.setParameter("pessoa",l.ID);m.setParameter("categoria",g);m.setParameter("ano",o);m.setParameter("mes",n);await m.execute();const C=m.getBoundContext().getValue();if(C?.Cartoes){if(!t.byId("DetalhamentoCategoria","dialogTransacoesPorCategoria")){this._detalhamentoDialog=t.load({id:"DetalhamentoCategoria",name:"apps.dflc.gestaogastos.ext.fragment.TransacoesDaCategoria"}).then(function(e){r.addDependent(e);let a=t.byId("DetalhamentoCategoria","DetalhamentoCartoesCategoria");c(a,C,d);e.open();return e}.bind(this))}else{let e=t.byId("DetalhamentoCategoria","dialogTransacoesPorCategoria");let a=t.byId("DetalhamentoCategoria","DetalhamentoCartoesCategoria");c(a,C,d);e.open()}}else{e.show("Erro ao buscar informação:"+C)}sap.ui.core.BusyIndicator.hide()}catch(t){sap.ui.core.BusyIndicator.hide();e.show("Erro ao buscar informações:"+t)}},onPressPrevisaoTotal:async function(a,o,n){try{const r=a.getSource().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent().getParent(),s=a.getSource().getModel(),i=a.getSource().getBindingContext(),l=i.getObject(),d=a.getSource(),g=a.getSource().getId().split("::")[1];sap.ui.core.BusyIndicator.show();let c=function(e,t,a){const o=[];t.Cartoes.forEach((e,a)=>{let n=new sap.m.Panel({expandable:true,expanded:a==0?true:false,headerText:e.NomeCartao,width:"auto"});let r=new sap.m.Avatar({src:e.Imagem});n.addContent(r);let s=new sap.ui.layout.FixFlex;e.Faturas.sort((e,t)=>{const a=Number(e.Ano)-Number(t.Ano);if(a!==0){return a}return Number(e.Mes)-Number(t.Mes)});e.Faturas.forEach((e,a)=>{let o=new sap.m.Panel({expandable:true,expanded:a==0?true:false,headerText:`${e.Descricao}(${e.Mes}) de ${e.Ano}`,width:"auto"});o.addContent(new sap.m.Label({text:`Valor Total: ${e.ValorTotal} ${t.Moeda}`}));let n=new sap.ui.layout.FixFlex;e.Transacoes.sort((e,t)=>new Date(e.Data)-new Date(t.Data));for(const a of e.Transacoes){const e=new Date(`${a.Data}T00:00:00`);const o=e.getFullYear();const r=String(e.getMonth()+1).padStart(2,"0");const s=String(e.getDate()).padStart(2,"0");let i=new sap.m.Panel({expandable:true,expanded:false,headerText:`${a.Descricao}`,width:"auto"});let l=a?.ValorTotal||Number(a.Valor)*Number(a.ParcelasTotais);let d=new sap.m.VBox({items:[new sap.m.Label({text:`Data: ${s}/${r}/${o}`}),new sap.m.Label({text:`Total: ${l} ${t.Moeda}`}),new sap.m.Label({text:`Valor: ${a.Valor} ${t.Moeda}`}),new sap.m.Label({text:`Parcela: ${a.Parcela} de ${a.ParcelasTotais}`})]});i.addContent(d);n.addFixContent(i)}o.addContent(n);s.addFixContent(o)});n.addContent(s);o.push(n)});e.removeAllFixContent();e.addFixContent(new sap.m.VBox({alignItems:"Center",justifyContent:"Center",items:[new sap.m.GenericTile({headerImage:a.getTileContent()[0].getContent().getItems()[0].getSrc(),header:a.getHeader(),subheader:a.getSubheader(),frameType:"OneByOne",tileContent:new sap.m.TileContent({footer:a.getTileContent()[0].getFooter(),content:new sap.suite.ui.microchart.RadialMicroChart({size:"Responsive",percentage:a.getTileContent()[0].getContent().getItems()[1].getPercentage(),valueColor:a.getTileContent()[0].getContent().getItems()[1].getValueColor(),alignContent:"Center"})})})]}));o.forEach((t,a)=>{e.addFixContent(t)})};let u="recuperaTransacoesPorCategoria",m=s.bindContext(`/${u}(...)`);m.setParameter("pessoa",l.ID);m.setParameter("categoria",g);m.setParameter("total",true);m.setParameter("ano",o);m.setParameter("mes",n);await m.execute();const C=m.getBoundContext().getValue();if(C?.Cartoes){if(!t.byId("DetalhamentoCategoria","dialogTransacoesPorCategoria")){this._detalhamentoDialog=t.load({id:"DetalhamentoCategoria",name:"apps.dflc.gestaogastos.ext.fragment.TransacoesDaCategoria"}).then(function(e){r.addDependent(e);let a=t.byId("DetalhamentoCategoria","DetalhamentoCartoesCategoria");c(a,C,d);e.open();return e}.bind(this))}else{let e=t.byId("DetalhamentoCategoria","dialogTransacoesPorCategoria");let a=t.byId("DetalhamentoCategoria","DetalhamentoCartoesCategoria");c(a,C,d);e.open()}}else{e.show("Erro ao buscar informação:"+C)}sap.ui.core.BusyIndicator.hide()}catch(t){sap.ui.core.BusyIndicator.hide();e.show("Erro ao buscar informações:"+t)}}}});
},
	"apps/dflc/gestaogastos/ext/fragment/AtualizaInformacoesDaTela.js":function(){
sap.ui.define(["apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaPessoa","apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaCartao","apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaFatura"],function(e,t,a){"use strict";return{AtualizaInformacoes:async function(r){try{try{let e=r?.getModel()||null;if(e){e.refresh()}}catch(e){}setTimeout(()=>{let e=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("innerTable")});if(e.length>0){try{e.forEach(e=>{e?.refreshItems()})}catch(e){console.log(e)}}},1e3);let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.VBox")&&e.getId().includes("FaturaAtualVBox")});if(o.length>0){try{let e=o[0];let t=e?.getModel()||null;if(t){t.refresh()}}catch(e){console.log(e)}}try{setTimeout(()=>{e.defineGraficoCategoriasTotalGastos();e.defineGraficoMensalCategorias();t.defineCategoriasFaturaAtual();a.defineGraficoCategorias()},1e3);let r=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Panel")&&e.getId().includes("PainelSemFatura")});if(r.length>0){if(r[0].getVisible()){if(t.oCartaoController){setTimeout(()=>{t?.oCartaoController.defineModeloFaturaAtual()},1500)}}}}catch(e){console.log(e)}}catch(e){console.log("Erro:"+e)}}}});
},
	"apps/dflc/gestaogastos/ext/fragment/Backup.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns:cu="apps.dflc.gestaogastos.ext.control"\n    xmlns="sap.m"\n    xmlns:layout="sap.ui.layout"\n    id="RealizarBackup"\n><Dialog\n        id="dialogBackup"\n        title="Backup"\n        class="sapUiResponsivePadding"\n        contentWidth="100px"\n        contentHeight="auto"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/Backup\'}"\n    ><content><layout:VerticalLayout\n                id="_IDGenVerticalLayout1"\n                class="sapUiContentPadding"\n                width="100%"\n            ><cu:CustomFileUploader\n                    id="fileUploader"\n                    name="file"\n                    width="100%"\n                    fileType="zip"\n                    placeholder="Selecione um arquivo Excel para importar"\n                    uploadComplete="handler.onUploadCompleto"\n                    uploadAborted="handler.onUploadAbortado"\n                    uploadOnChange="false"\n                    change="handler.onModificaArquivo"\n                    uploadProgress="handler.onUploadProgresso"\n                    sameFilenameAllowed="true"\n                    multiple="false"\n                    sendXHR="true"\n                    httpRequestMethod="Put"\n                    style="Transparent"\n                    buttonOnly="false"\n                    useMultipart="false"\n                    icon="sap-icon://upload"\n                    iconOnly="true"\n                    tooltip="Upload de Backup"\n                /><ProgressIndicator\n                    id="uploadProgresso"\n                    percentValue="0"\n                    displayValue="0%"\n                    state="Success"\n                    width="100%"\n                    visible="false"\n                /></layout:VerticalLayout></content><buttons><Button\n                id="_IDGenButton6"\n                icon="sap-icon://download-from-cloud"\n                press="handler.exportarBackup"\n                type="Success"\n            /><Button\n                id="_IDGenButton3"\n                icon="sap-icon://upload-to-cloud"\n                type="Success"\n                press="handler.importarBackup"\n            /><Button\n                id="_IDGenButton8"\n                type="Negative"\n                icon="sap-icon://decline"\n                press="handler.cancelarBackup"\n            /></buttons></Dialog></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/Backup.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/core/util/File","sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,t,a,r){"use strict";return{exportarBackup:async function(){try{let s=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("Pessoa::LineItem-innerTable")});if(s.length>0){let n=s[0].getItems();if(n.length>0){let s=n[0].getBindingContext().getValue().ID;var a=this.getParent();var r=this.getParent().getParent();a.close();var o=new sap.m.Dialog({title:"Exportar Backup",type:"Message",content:new sap.m.Text({text:"Gerando backup, aguarde..."})});o.setBusy(true);o.open();let i="exportarBackup";let c=r.getModel().bindContext(`/${i}(...)`);c.setParameter("ID",s);await c.execute();let l=c.getBoundContext();let u=l.getValue("value");if(u.backup){let a=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,u.backup)];let s=await r.getModel().bindList(`/Backup`,null,null,a).requestContexts();if(s.length>0){let a=`${r.getModel().getServiceUrl()}Backup(ID=${u.backup})/Backup`;$.ajax({url:a,method:"GET",headers:{Accept:"application/x-zip-compressed"},xhrFields:{responseType:"blob"},success:async function(a,r,n){const i=new Uint8Array(await a.arrayBuffer());t.save(i,"backup-gestor-de-gastos","zip","application/zip");e.show("Backup exportado com sucesso!");for(let e of s){await e.delete()}o.close()},error:async function(t,a,r){for(let e of s){await e.delete()}e.show("Erro ao baixar o backup:"+r);o.close()}})}else{o.close();e.show("Erro ao baixar o backup")}}else{e.show("Erro ao exportar backup:"+u.erro);o.close()}}else{e.show("É necessário ter pelo menos um cadastro de pessoa")}}}catch(t){e.show("Erro ao exportar backup: "+t);if(o){o.close()}if(a){a.close()}}},importarBackup:async function(){try{const o=this.getParent().getParent();const s=o.getModel();const n=this.getParent();const i=a.byId("Backup","fileUploader");const c=`${s.getServiceUrl()}Backup`;const l=i.oFileUpload.files;sap.ui.core.BusyIndicator.show();if(!l||l.length===0){e.show("Por favor, selecione um arquivo.");sap.ui.core.BusyIndicator.hide();return}const u=l[0];let p=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0,a=e=="x"?t:t&3|8;return a.toString(16)})};let d=async function(){return await new Promise(function(e,t){fetch(s.getServiceUrl(),{method:"GET",headers:{"X-CSRF-Token":"Fetch"}}).then(function(e){if(!e.ok){throw new Error("Erro ao obter CSRF Token")}return e}.bind(this)).then(function(e){const t=e.headers.get("X-CSRF-Token");return t}.bind(this)).then(function(t){e(t)}).catch(e=>{t(e)})}.bind(this))}.bind(this);var t={ID:p()};let g="/Backup";const h=o.getModel().bindList(`${g}`);let f=await h.create(t,false);o.getModel().attachEventOnce("dataReceived",async function(a){const o=a.getParameter("error");if(o){const a=t.parse(o.responseText||"{}");const r=a.error?.message||"Erro ao criar registro!";e.show(r);sap.ui.core.BusyIndicator.hide()}else if(f){try{const e=f.getObject();const t=new r(e);i.removeAllHeaderParameters();let a=await d();i.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({name:"x-csrf-token",value:a}));var s=new sap.ui.unified.FileUploaderParameter({name:"If-Match",value:e["@odata.etag"]||"*"});i.insertHeaderParameter(s);var n=new sap.ui.unified.FileUploaderParameter({name:"Content-Type",value:u.type});i.insertHeaderParameter(n);var l=new sap.ui.unified.FileUploaderParameter({name:"Accept",value:"application/oBackupCreate"});i.insertHeaderParameter(l);i.setModel(t,"Backup");i.setUploadUrl(`${c}(${e.ID})/Backup`);i.setSendXHR(true);i.upload();console.log("Dados criados:",e)}catch(t){e.show("Erro desconhecido durante a importação"+t);sap.ui.core.BusyIndicator.hide()}}else{e.show("Erro desconhecido durante a importação!");sap.ui.core.BusyIndicator.hide()}}.bind(this))}catch(t){e.show("Erro ao importar o arquivo: "+t.message);e.show("Tamanho de arquivo excedido");sap.ui.core.BusyIndicator.hide()}},onUploadCompleto(t){const r=a.byId("Backup","dialogBackup");const o=this.getModel();const s=t.getParameter("responseRaw");const n=t.getParameter("status");t.getSource().setValue("");var i=a.byId("Backup","uploadProgresso");i.setPercentValue(0);i.setDisplayValue("0%");i.setVisible(false);if(n!=204){let t=JSON.parse(s);e.show(`Erro:${t.error.message}-${t.error.target}`)}else{o.refresh();let t=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("innerTable")});if(t.length>0){let e=t[0];e.refreshItems()}e.show("Backup importado.")}try{var c={ID:t.getSource().getModel("Backup").getData().ID};let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,c.ID)];let a=`/Backup`;o.bindList(`${a}`,null,null,e).requestContexts().then(async function(e){if(e.length>0){for(let t of e){await t.delete()}}})}catch(e){console.log(e)}r.close();sap.ui.core.BusyIndicator.hide()},onUploadAbortado(t){const a=t.getParameter("response");if(a){var r=oBackupCreate.parse(a);e.show(r.error.message)}sap.ui.core.BusyIndicator.hide()},onModificaArquivo(e){var t=a.byId("Backup","uploadProgresso");t.setVisible(false);t.setPercentValue(0);t.setDisplayValue("0%")},onUploadProgresso(e){var t=e.getParameter("loaded");var r=e.getParameter("total");var o=Math.round(t/r*100);var s=a.byId("Backup","uploadProgresso");s.setVisible(true);s.setPercentValue(o);s.setDisplayValue(o+"%")},cancelarBackup:function(e){this.getParent().close()}}});
},
	"apps/dflc/gestaogastos/ext/fragment/ExcluirTransacao.fragment.xml":'<coreSap:FragmentDefinition\n    xmlns:coreSap="sap.ui.core"\n    xmlns="sap.m"\n><Dialog\n        id="dialogExcluirTransacao"\n        title="Excluir Transação"\n        class="sapUiResponsivePadding"\n        coreSap:require="{ controle: \'apps/dflc/gestaogastos/ext/fragment/ExcluirTransacao\'}"\n    ><content><VBox\n                id="contentVBox"\n                class="sapUiSmallMargin"\n            ><Label\n                    id="_IDGenLabel111"\n                    text="Descrição da Transação"\n                /><Input\n                    id="dataTransacao"\n                    value="{Transacao>/Dados/Descricao}"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel11"\n                    text="Data da Transação"\n                /><Input\n                    id="nomeTransacao"\n                    value="{ path:\'Transacao>/Dados/Data\', formatter:\'controle.formatter.formatDate\'}"\n                    enabled="false"\n                /><Label text="Total" /><Input\n                    id="totalTransacao"\n                    value="{Transacao>/Dados/ValorTotal} {Transacao>/Dados/Moeda_code}"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel2"\n                    text="Valor"\n                /><Input\n                    id="valorTransacao"\n                    value="{Transacao>/Dados/Valor} {Transacao>/Dados/Moeda_code}"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel13"\n                    text="Parcela"\n                /><Input\n                    id="parcelaTransacao"\n                    value="{=${Transacao>/Dados/Parcela} === undefined ? 1 : ${Transacao>/Dados/Parcela} }"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel4"\n                    text="Quantidade de Parcelas Totais"\n                /><Input\n                    id="quantidadeParcelas"\n                    value="{Transacao>/Dados/ParcelasTotais}"\n                    enabled="false"\n                /><Label\n                    text="Observação"\n                    visible="{Transacao>/Fixo}"\n                /><Input\n                    value="É um gasto fixo!"\n                    visible="{Transacao>/Fixo}"\n                    enabled="false"\n                /><Input\n                    id="identificadorTransacao"\n                    visible="false"\n                    value="{Transacao>/Dados/Identificador}"\n                    enabled="false"\n                /><Input\n                    id="idTransacao"\n                    visible="false"\n                    value="{Transacao>/Dados/ID}"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel5"\n                    text="Transações Relacionadas"\n                    visible="{= ${Transacao>/Relacionadas}.length > 0 }"\n                /><Table\n                    id="listaTransacoesRelacionadas"\n                    items="{ path: \'Transacao>/Relacionadas\' }"\n                    visible="{= ${Transacao>/Relacionadas}.length > 0 }"\n                    width="300px"\n                    growing="true"\n                    growingScrollToLoad="true"\n                ><columns><Column\n                            id="_IDGenColumn"\n                            minScreenWidth="Small"\n                            demandPopin="true"\n                            width="50%"\n                        ><Text\n                                id="_IDGenText"\n                                text="Valor"\n                            /></Column><Column\n                            id="_IDGenColumn1"\n                            minScreenWidth="Small"\n                            demandPopin="true"\n                            width="50%"\n                        ><Text\n                                id="_IDGenText1"\n                                text="Parcela"\n                            /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem"><cells><Text\n                                    id="_IDGenText2"\n                                    text="{Transacao>Valor}"\n                                /><Text\n                                    id="_IDGenText3"\n                                    text="{Transacao>Parcela}"\n                                /></cells></ColumnListItem></items></Table><CheckBox\n                    id="excluirTransacoesRelacionadas"\n                    text="Excluir transações relacionadas"\n                    visible="{= ${Transacao>/Relacionadas}.length > 0 }"\n                /></VBox></content><buttons><Button\n                id="botaoCancelar"\n                text="Cancelar"\n                press="controle.cancelarExclusao"\n            /><Button\n                id="botaoConfirmar"\n                text="Confirmar"\n                type="Emphasized"\n                press="controle.excluirTransacao"\n            /></buttons></Dialog></coreSap:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/ExcluirTransacao.js":function(){
sap.ui.define(["apps/dflc/gestaogastos/ext/fragment/AtualizaInformacoesDaTela","sap/ui/core/Fragment"],function(e,t){return{formatter:{formatDate:function(e){if(!e){return""}const t=new Date(`${e}T00:00:00`);const a=String(t.getDate()).padStart(2,"0");const r=String(t.getMonth()+1).padStart(2,"0");const n=t.getFullYear();return`${a}/${r}/${n}`}},excluirTransacao:function(a){var r=a.getSource().getParent();var n=this.getParent().getParent();var o=n.getModel();var s=t.byId("ExcluirTransacaoFragment","idTransacao").getValue();var i=t.byId("ExcluirTransacaoFragment","identificadorTransacao").getValue();var c=t.byId("ExcluirTransacaoFragment","excluirTransacoesRelacionadas").getSelected();let u=this.getBindingContext()?.getValue()||null;if(sap.ui.getCore().oFatura){u=sap.ui.getCore().oFatura}if(!u){sap.m.MessageToast.show("Erro ao obter dados");return}var l={fatura:u.ID,transacao:s,identificador:i,excluirRelacionadas:c};r.setBusy(true);var g=function(){return new Promise(function(a,s){fetch(o.getServiceUrl(),{method:"GET",headers:{"X-CSRF-Token":"Fetch"}}).then(function(e){if(!e.ok){throw new Error("Erro ao obter CSRF Token")}return e}.bind(this)).then(function(e){const t=e.headers.get("X-CSRF-Token");return t}.bind(this)).then(function(i){fetch(`${o.getServiceUrl()}excluirTransacao`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":i},body:JSON.stringify(l)}).then(function(e){if(!e.ok){throw new Error("Erro ao excluir transação.")}return e.json()}).then(async function(o){e.AtualizaInformacoes(n);t.byId("ExcluirTransacaoFragment","excluirTransacoesRelacionadas").setSelected(false);sap.m.MessageToast.show("Transação excluída com sucesso.");r.setBusy(false);r.close();a()}.bind(this)).catch(function(e){r.setBusy(false);sap.m.MessageToast.show("Erro: "+e.message);s()})}.bind(this)).catch(function(e){r.setBusy(false);sap.m.MessageToast.show("Erro ao obter csrf token: "+e);s()})}.bind(this))}.bind(this);let d={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};let f=this.getParent().getParent().getController().getExtensionAPI().getEditFlow();f.securedExecution(g,d).finally(e=>{console.log(e)})},cancelarExclusao:function(e){this.getParent().close()}}});
},
	"apps/dflc/gestaogastos/ext/fragment/FaturaAtual.fragment.xml":'<core:FragmentDefinition\n    id="TESTE"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:table="sap.ui.table"\n    xmlns:form="sap.ui.layout.form"\n><VBox\n        id="FaturaAtualVBox"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/FaturaAtual\'}"\n    ><Panel\n            id="PainelFatura"\n            headerText="Detalhes da Fatura"\n            width="100%"\n        ><content><form:SimpleForm\n                    id="idFaturaForm"\n                    editable="false"\n                    layout="ResponsiveGridLayout"\n                    labelSpanL="4"\n                    labelSpanM="3"\n                    emptySpanL="0"\n                    emptySpanM="0"\n                    columnsL="1"\n                    columnsM="1"\n                ><Label\n                        id="_IDGenLabel"\n                        text="Ano"\n                    /><Text\n                        id="_IDGenText13"\n                        text="{Ano}"\n                    /><Label\n                        id="_IDGenLabel1"\n                        text="Mês"\n                    /><Text\n                        id="_IDGenText14"\n                        text="{Mes}"\n                    /><Label\n                        id="_IDGenLabel14"\n                        text="Descrição"\n                    /><Text\n                        id="_IDGenText15"\n                        text="{Descricao}"\n                    /><Label\n                        id="_IDGenLabel3"\n                        text="Valor Total"\n                    /><ObjectNumber\n                        id="_IDGenObjectNumber"\n                        number="{ValorTotal}"\n                        unit="{Moeda_code}"\n                    /><Label\n                        visible="false"\n                        text="Cartao_ID"\n                    /><Text\n                         visible="false"\n                        text="{Cartao_ID}"\n                    /></form:SimpleForm></content></Panel><Panel\n            id="PainelTransacoes"\n            headerText="Transações da Fatura"\n            width="100%"\n        ><content><Table\n                    id="transactionsTable"\n                    inset="false"\n                    mode="SingleSelect"\n                    noDataText="Nenhuma transação encontrada"\n                    growing="true"\n                    growingScrollToLoad="true"\n                    growingThreshold="10"\n                    width="auto"\n                    items="{ path: \'Transacoes\'}"\n                ><headerToolbar><OverflowToolbar id="_IDGenOverflowToolbar1"><SearchField\n                                id="_IDGenSearchField"\n                                search="handler.pesquisarTransacao"\n                                width="auto"\n                            /><ToolbarSpacer id="_IDGenToolbarSpacer1" /><Button\n                                text="Mudar Categoria"\n                                press="handler.mudarCategoria"\n                            /><Button\n                                id="_IDGenButton5"\n                                text="Excluir"\n                                press="handler.excluirTransacao"\n                            /></OverflowToolbar></headerToolbar><columns><Column ><Text\n                                text=""\n                            /></Column><Column id="_IDGenColumn7"><Text\n                                id="_IDGenText5"\n                                text="Data"\n                            /></Column><Column id="_IDGenColumn2"><Text\n                                id="_IDGenText6"\n                                text="Valor"\n                            /></Column><Column id="_IDGenColumn3"><Text\n                                id="_IDGenText7"\n                                text="Parcelas"\n                            /></Column><Column id="_IDGenColumn4"><Text\n                                id="_IDGenText8"\n                                text="Descrição"\n                            /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem1"><cells><Avatar src="{path:\'Categoria/Imagem\'}"  displaySize="XS" badgeTooltip="" /><Text\n                                    id="_IDGenText10"\n                                    text="{Data}"\n                                /><ObjectNumber\n                                    id="_IDGenObjectNumber1"\n                                    number="{Valor}"\n                                    unit="{Moeda_code}"\n                                /><Text\n                                    id="_IDGenText11"\n                                    text="{Parcela} de {ParcelasTotais}"\n                                /><Text\n                                    id="_IDGenText12"\n                                    text="{Descricao}"\n                                /><Text\n                                    id="IdTransacao"\n                                    text="{ID}"\n                                    visible="false"\n                                /><Text\n                                    id="IdentificadorTransacao"\n                                    text="{Identificador}"\n                                    visible="false"\n                                /><Text\n                                    id="CategoriaTransacao"\n                                    text="{Categoria_ID}"\n                                    visible="false"\n                                /><Text\n                                    text="{ValorTotal}"\n                                    visible="false"\n                                /></cells></ColumnListItem></items></Table></content></Panel><Panel\n            id="PainelSemFatura"\n            headerText="Sem Fatura Atual"\n            width="100%"\n        ><content><Text\n                    text="Caso seja adicionado gastos para fatura desse mês recarregue a página."\n                /></content></Panel></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/FaturaAtual.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,a,i,r){"use strict";return{onPress:function(t){e.show("Custom handler invoked.")},formatter:{formatDate:function(e){if(!e){return""}const t=new Date(`${e}T00:00:00`);const a=String(t.getDate()).padStart(2,"0");const i=String(t.getMonth()+1).padStart(2,"0");const r=t.getFullYear();return`${a}/${i}/${r}`}},excluirTransacao:async function(e){let i=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.ui.layout.form.SimpleForm")&&e.getId().includes("idFaturaForm")});let r=i[0];let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("transactionsTable")});let s=o[0];const n=s.getSelectedItems();if(n.length===0){sap.m.MessageToast.show("Selecione uma transação para excluir.");return}let l=r.getBindingContext().getValue();let u=n[0].getBindingContext().getValue();const c=this._view;const d=this._view.getModel();sap.ui.getCore().oFatura=l;if(u.ID){var g=function(){return new Promise(function(e,i){try{fetch(`${d.getServiceUrl()}Transacao?$filter=Identificador eq ${u.Identificador} and ID ne ${u.ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(i){console.log(i);let r=await i.json();let o=Array.isArray(r.value)?r.value:[r.value];o=o.sort(function(e,t){return t.Parcela-e.Parcela});let s={Dados:u,Fixo:u.ParcelasTotais==1&&o.length>0?true:false,Relacionadas:o};const n=new a(s);if(!sap.ui.getCore().pDialogExcluir){sap.ui.getCore().pDialogExcluir=t.load({id:"ExcluirTransacaoFragment",name:"apps.dflc.gestaogastos.ext.fragment.ExcluirTransacao"}).then(function(e){c.addDependent(e);return e})}sap.ui.getCore().pDialogExcluir.then(function(e){e.open();e.setModel(n,"Transacao")}.bind(this));e()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço de Transações: "+e);i()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}}.bind(this))}.bind(this);let e={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.editFlow.securedExecution(g,e).finally(e=>{console.log(e)})}},mudarCategoria:async function(i){try{let i=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.ui.layout.form.SimpleForm")&&e.getId().includes("idFaturaForm")});let r=i[0];let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("transactionsTable")});let s=o[0];const n=s.getSelectedItems();if(n.length===0){sap.m.MessageToast.show("Selecione uma transação para mudar.");return}sap.ui.core.BusyIndicator.show();let l=r.getBindingContext().getValue();sap.ui.getCore().oFatura=l;let u=n[0].getBindingContext().getValue();const c=this._view,d=c.getModel();if(!l.Cartao_ID){let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,l.ID)];let t=await d.bindList(`/Fatura`,null,null,e).requestContexts();if(t.length>0){l=t[0].getObject()}}if(!u.Categoria_ID){let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,u.ID)];let t=await d.bindList(`/Transacao`,null,null,e).requestContexts();if(t.length>0){u=t[0].getObject()}}if(u.Categoria_ID){let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,u.Categoria_ID)];let i=`/Categoria`;d.bindList(`${i}`,null,null,e).requestContexts().then(async function(e){if(e.length>0){for(let i of e){i=i.getValue();let e=[new sap.ui.model.Filter("Pessoa_ID",sap.ui.model.FilterOperator.EQ,i.Pessoa_ID)];let r=`/Categoria`;let o=await d.bindList(`${r}`,null,null,e).requestContexts();u.Categoria=i;let s={Dados:u,Categorias:o.map(e=>e.getObject())};const n=new a(s);if(!sap.ui.getCore().pMudar){sap.ui.getCore().pMudar=t.load({id:"MudarCategoria",name:"apps.dflc.gestaogastos.ext.fragment.MudarCategoria"}).then(function(e){c.addDependent(e);return e})}sap.ui.getCore().pMudar.then(function(e){e.open();e.setModel(n,"TransacaoMudar");sap.ui.core.BusyIndicator.hide()}.bind(this))}}}.bind(this))}else{let i={};if(sap.ui.getCore().oCartao?.Pessoa_ID){i=sap.ui.getCore().oCartao}else{let e=[new sap.ui.model.Filter("ID",sap.ui.model.FilterOperator.EQ,l.Cartao_ID)];let t=await d.bindList(`/Cartao`,null,null,e).requestContexts();if(t.length>0){i=t[0].getObject()}}if(i.Pessoa_ID){let r={ID:"sem",Nome:"Sem categoria"};let o=[new sap.ui.model.Filter("Pessoa_ID",sap.ui.model.FilterOperator.EQ,i.Pessoa_ID)];let s=`/Categoria`;let n=await d.bindList(`${s}`,null,null,o).requestContexts();if(n.length==0){e.show("Não há categorias cadastradas.");sap.ui.core.BusyIndicator.hide();return}u.Categoria=r;let l={Dados:u,Categorias:n.map(e=>e.getObject())};const g=new a(l);if(!sap.ui.getCore().pMudar){sap.ui.getCore().pMudar=t.load({id:"MudarCategoria",name:"apps.dflc.gestaogastos.ext.fragment.MudarCategoria"}).then(function(e){c.addDependent(e);return e})}sap.ui.getCore().pMudar.then(function(e){e.open();e.setModel(g,"TransacaoMudar");sap.ui.core.BusyIndicator.hide()}.bind(this))}else{e.show("Erro ao buscar categoria");sap.ui.core.BusyIndicator.hide()}}}catch(t){e.show("Erro ao buscar categoria: "+t);sap.ui.core.BusyIndicator.hide()}},pesquisarTransacao:function(e){var t=[],a=e.getParameter("query");if(a&&a.length>0){t=[new i({filters:[new i("Descricao",r.Contains,a)]})]}let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("transactionsTable")});let s=o[0];if(s){s.getBinding("items").filter(t,"Application")}}}});
},
	"apps/dflc/gestaogastos/ext/fragment/ImagemCartao.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:cu="apps.dflc.gestaogastos.ext.control"\n><VBox\n        alignItems="Center"\n        justifyContent="Center"\n        width="100%"\n    ><Avatar\n            id="avatarImagemCartao"\n            displaySize="Custom"\n            customDisplaySize="250px"\n            src="{Imagem}"\n            initials="CT"\n            displayShape="Square"\n            backgroundColor="Accent6"\n            class="sapUiTinyMarginBottom"\n        /><ProgressIndicator\n            id="uploadImagemCartao"\n            percentValue="0"\n            displayValue="0%"\n            state="Success"\n            width="100%"\n            visible="false"\n        /><HBox\n            alignItems="Center"\n            justifyContent="Center"\n            width="auto"\n            core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/ImagemCartao\'}"\n        ><cu:CustomFileUploader\n                id="FileUploadDetailsCartao"\n                fileType="png,jpg,jpeg"\n                change="handler.onUploadImage"\n                uploadComplete="handler.onUploadCompleto"\n                name="Carregar arquivo"\n                icon="sap-icon://upload"\n                tooltip="Carregar arquivo"\n                uploadOnChange="false"\n                buttonOnly="true"\n                iconOnly="true"\n                uploadProgress="handler.onUploadProgresso"\n                visible="{= ${ui>/isEditable} === true ? false:true}"\n                multiple="false"\n                sendXHR="true"\n                httpRequestMethod="Put"\n                style="Transparent"\n                useMultipart="false"\n            /><Button\n                id="deleteImageButtonCartao"\n                icon="sap-icon://delete"\n                text=""\n                tooltip="Remova a imagem atual"\n                type="Transparent"\n                press="handler.onDeleteImage"\n                visible="{= ${ui>/isEditable} === true ? false:false}"\n            /></HBox></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/ImagemCartao.js":function(){
sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onUploadImage:async function(){const e=this.byId("FileUploadDetailsCartao");const t=this._view.getBindingContext().getPath();const a=this._view.getBindingContext().getObject();const r=this._view.getModel();const o=e.oFileUpload.files;const s=o[0];let n=async function(){return await new Promise((e,t)=>{fetch(r.getServiceUrl(),{method:"GET",headers:{"X-CSRF-Token":"Fetch"}}).then(function(e){if(!e.ok){throw new Error("Erro ao obter CSRF Token")}return e}.bind(this)).then(function(e){const t=e.headers.get("X-CSRF-Token");return t}.bind(this)).then(function(t){e(t)}).catch(e=>{t(e)})})};e.removeAllHeaderParameters();let i=await n();e.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({name:"x-csrf-token",value:i}));var l=new sap.ui.unified.FileUploaderParameter({name:"If-Match",value:a["@odata.etag"]||"*"});e.insertHeaderParameter(l);var c=new sap.ui.unified.FileUploaderParameter({name:"Content-Type",value:s.type});e.insertHeaderParameter(c);const d=r.getServiceUrl();e.setUploadUrl(`${d}${t.replace("/","")}/Imagem`);e.setSendXHR(true);const u=new Promise((t,a)=>{this.uploadPromises=this.uploadPromises||{};this.uploadPromises[e.getId()]={resolve:t,reject:a};e.upload()});this.editFlow.syncTask(u)},onUploadCompleto:async function(t){try{const r=this.getModel();const o=t.getParameter("responseRaw");const s=t.getParameter("status");const n=t.getSource();const i=n.oFileUpload.files;const l=i[0];const c=this.byId("avatarImagemCartao");var a=this.byId("uploadImagemCartao");a.setPercentValue(0);a.setDisplayValue("0%");a.setVisible(false);if(s!=204){let t=JSON.parse(o);e.show(`Erro:${t.error.message}-${t.error.target}`)}else{if(l){const t=new FileReader;t.onload=t=>{const a=t.target.result;c.setSrc(a);let r=this._view.getBindingContext().getObject().ID;let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Avatar")&&e.getBadgeTooltip().includes(r)});if(o.length>0){o[0].setSrc(a)}e.show("Imagem carregada com sucesso.")};t.readAsDataURL(l)}}}catch(t){e.show("Erro desconhecido:"+t)}},onUploadProgresso(e){var t=e.getParameter("loaded");var a=e.getParameter("total");var r=Math.round(t/a*100);var o=this.byId("uploadImagemCartao");o.setVisible(true);o.setPercentValue(r);o.setDisplayValue(r+"%")},onDeleteImage:function(){this._view.getBindingContext().setProperty("/Imagem",null);e.show("Imagem excluída.")}}});
},
	"apps/dflc/gestaogastos/ext/fragment/ImagemCartaoLista.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n><Avatar\n        badgeTooltip="{ID}"\n        displayShape="Square"\n        displaySize="S"\n        src="{Imagem}"\n        initials="CT"\n        backgroundColor="Accent6"\n        class="sapUiTinyMarginBottom"\n    /></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/ImagemPessoa.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:cu="apps.dflc.gestaogastos.ext.control"\n><VBox\n        alignItems="Center"\n        justifyContent="Center"\n        width="100%"\n    ><Avatar\n            id="avatarImagemPessoa"\n            displaySize="Custom"\n            customDisplaySize="250px"\n            src="{Imagem}"\n            initials="PS"\n            displayShape="Square"\n            backgroundColor="Accent6"\n            class="sapUiTinyMarginBottom"\n        /><ProgressIndicator\n            id="uploadImagemPessoa"\n            percentValue="0"\n            displayValue="0%"\n            state="Success"\n            width="100%"\n            visible="false"\n        /><HBox\n            alignItems="Center"\n            justifyContent="Center"\n            width="auto"\n            core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/ImagemPessoa\'}"\n        ><cu:CustomFileUploader\n                id="FileUploadDetails"\n                change="handler.onUploadImage"\n                uploadComplete="handler.onUploadCompleto"\n                name="Carregar arquivo"\n                icon="sap-icon://upload"\n                tooltip="Carregar arquivo"\n                uploadOnChange="false"\n                fileType="png,jpg,jpeg"\n                buttonOnly="true"\n                iconOnly="true"\n                uploadProgress="handler.onUploadProgresso"\n                visible="{= ${ui>/isEditable} === true ? false:true}"\n                multiple="false"\n                sendXHR="true"\n                httpRequestMethod="Put"\n                style="Transparent"\n                useMultipart="false"\n            /><Button\n                id="deleteImageButton"\n                icon="sap-icon://delete"\n                text=""\n                tooltip="Remova a imagem atual"\n                type="Transparent"\n                press="handler.onDeleteImage"\n                visible="{= ${ui>/isEditable} === true ? false:false}"\n            /></HBox></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/ImagemPessoa.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return{onUploadImage:async function(){const e=this.byId("FileUploadDetails");const t=this._view.getBindingContext().getPath();const a=this._view.getBindingContext().getObject();const s=this._view.getModel();const r=e.oFileUpload.files;const o=r[0];let n=async function(){return await new Promise((e,t)=>{fetch(s.getServiceUrl(),{method:"GET",headers:{"X-CSRF-Token":"Fetch"}}).then(function(e){if(!e.ok){throw new Error("Erro ao obter CSRF Token")}return e}.bind(this)).then(function(e){const t=e.headers.get("X-CSRF-Token");return t}.bind(this)).then(function(t){e(t)}).catch(e=>{t(e)})})};e.removeAllHeaderParameters();let i=await n();e.addHeaderParameter(new sap.ui.unified.FileUploaderParameter({name:"x-csrf-token",value:i}));var l=new sap.ui.unified.FileUploaderParameter({name:"If-Match",value:a["@odata.etag"]||"*"});e.insertHeaderParameter(l);var c=new sap.ui.unified.FileUploaderParameter({name:"Content-Type",value:o.type});e.insertHeaderParameter(c);const d=s.getServiceUrl();e.setUploadUrl(`${d}${t.replace("/","")}/Imagem`);e.setSendXHR(true);const u=new Promise((t,a)=>{this.uploadPromises=this.uploadPromises||{};this.uploadPromises[e.getId()]={resolve:t,reject:a};e.upload()});this.editFlow.syncTask(u)},onUploadCompleto:async function(t){try{const s=this.getModel();const r=t.getParameter("responseRaw");const o=t.getParameter("status");const n=t.getSource();const i=n.oFileUpload.files;const l=i[0];const c=this.byId("avatarImagemPessoa");var a=this.byId("uploadImagemPessoa");a.setPercentValue(0);a.setDisplayValue("0%");a.setVisible(false);if(o!=204){let t=JSON.parse(r);e.show(`Erro:${t.error.message}-${t.error.target}`)}else{if(l){const t=new FileReader;t.onload=t=>{const a=t.target.result;c.setSrc(a);let s=this._view.getBindingContext().getObject().ID;let r=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Avatar")&&e.getBadgeTooltip().includes(s)});if(r.length>0){r[0].setSrc(a)}let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("Cartes-innerTable")});if(o.lehngth>0){o[0].getModel().refreash()}e.show("Imagem carregada com sucesso.")};t.readAsDataURL(l)}}}catch(t){e.show("Erro desconhecido:"+t)}},onUploadProgresso(e){var t=e.getParameter("loaded");var a=e.getParameter("total");var s=Math.round(t/a*100);var r=this.byId("uploadImagemPessoa");r.setVisible(true);r.setPercentValue(s);r.setDisplayValue(s+"%")},onDeleteImage:function(){this._view.getBindingContext().setProperty("/Imagem",null);e.show("Imagem excluída.")}}});
},
	"apps/dflc/gestaogastos/ext/fragment/ImagemPessoaLista.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n><Avatar\n        badgeTooltip="{ID}"\n        displayShape="Square"\n        displaySize="S"\n        src="{Imagem}"\n        initials="PS"\n        backgroundColor="Accent6"\n        class="sapUiTinyMarginBottom"\n    /></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/MudarCategoria.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n><Dialog\n        id="dialogMudarCategoria"\n        title="Mudar Categoria"\n        class="sapUiResponsivePadding"\n        core:require="{ controle: \'apps/dflc/gestaogastos/ext/fragment/MudarCategoria\'}"\n    ><content><VBox class="sapUiSmallMargin"><Label text="Descrição da Transação" /><Input\n                    value="{TransacaoMudar>/Dados/Descricao}"\n                    enabled="false"\n                /><Label text="Data da Transação" /><Input\n                    value="{ path:\'TransacaoMudar>/Dados/Data\', formatter:\'controle.formatter.formatDate\'}"\n                    enabled="false"\n                /><Label text="Total" /><Input\n                    value="{TransacaoMudar>/Dados/ValorTotal} {TransacaoMudar>/Dados/Moeda_code}"\n                    enabled="false"\n                /><Label text="Valor" /><Input\n                    value="{TransacaoMudar>/Dados/Valor} {TransacaoMudar>/Dados/Moeda_code}"\n                    enabled="false"\n                /><Label text="Parcela" /><Input\n                    value="{=${TransacaoMudar>/Dados/Parcela} === undefined ? 1 : ${TransacaoMudar>/Dados/Parcela} }"\n                    enabled="false"\n                /><Label text="Quantidade de Parcelas Totais" /><Input\n                    value="{TransacaoMudar>/Dados/ParcelasTotais}"\n                    enabled="false"\n                /><Input\n                    id="identificadorTransacaoParaMudanca"\n                    visible="false"\n                    value="{TransacaoMudar>/Dados/Identificador}"\n                    enabled="false"\n                /><Input\n                    visible="false"\n                    value="{TransacaoMudar>/Dados/ID}"\n                    enabled="false"\n                /><Label text="Categoria atual" /><Input\n                    id="Categoria"\n                    value="{TransacaoMudar>/Dados/Categoria/Nome}"\n                    enabled="false"\n                /><Label text="Nova Categoria" /><Select\n                    id="categoriaNovaSelect"\n                    items="{\n                        path: \'TransacaoMudar>/Categorias\' }"\n                    required="true"\n                ><core:Item\n                        key="{TransacaoMudar>ID}"\n                        text="{TransacaoMudar>Nome}"\n                    /></Select></VBox></content><buttons><Button\n                text="Cancelar"\n                press="controle.cancelarMudanca"\n            /><Button\n                text="Confirmar"\n                type="Emphasized"\n                press="controle.mudarCategoria"\n            /></buttons></Dialog></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/MudarCategoria.js":function(){
sap.ui.define(["apps/dflc/gestaogastos/ext/fragment/AtualizaInformacoesDaTela","sap/ui/core/Fragment"],function(a,e){"use strict";return{formatter:{formatDate:function(a){if(!a){return""}const e=new Date(`${a}T00:00:00`);const t=String(e.getDate()).padStart(2,"0");const r=String(e.getMonth()+1).padStart(2,"0");const s=e.getFullYear();return`${t}/${r}/${s}`}},mudarCategoria:async function(t){try{var r=t.getSource().getParent();var s=this.getParent().getParent();var o=s.getModel();var n=e.byId("MudarCategoria","identificadorTransacaoParaMudanca").getValue();var i=e.byId("MudarCategoria","categoriaNovaSelect").getSelectedKey();let u={};if(sap.ui.getCore().oFatura){u=sap.ui.getCore().oFatura}else{u=this.getBindingContext()?.getValue()||null}if(!u){sap.m.MessageToast.show("Erro ao receuperar informações");return}r.setBusy(true);let c="mudarCategoriaTransacao";let g=o.bindContext(`/${c}(...)`);g.setParameter("identificador",n);g.setParameter("categoria",i);await g.execute();let l=g.getBoundContext();if(l.getValue("sucesso")){a.AtualizaInformacoes(s);sap.m.MessageToast.show("Categoria ajustada com sucesso.");r.setBusy(false);r.close()}else{sap.m.MessageToast.show("Erro ao atualizar categoria.");r.setBusy(false)}}catch(a){sap.m.MessageToast.show("Erro ao atualizar categoria.");r.setBusy(false)}},cancelarMudanca:function(a){this.getParent().close()}}});
},
	"apps/dflc/gestaogastos/ext/fragment/PrevisaoDeGasto.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:layout="sap.ui.layout"\n><VBox\n        id="_IDGenVBox2"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/PrevisaoDeGasto\'}"\n    ><HBox\n            id="_IDGenHBox1"\n            alignItems="Center"\n            class="sapUiTinyMarginBottom"\n        ><Select\n                id="ListaAno"\n                class="sapUiTinyMarginEnd"\n            ><core:Item\n                    id="_IDGenItem1"\n                    text="2025"\n                /><core:Item\n                    id="_IDGenItem2"\n                    text="2026"\n                /><core:Item\n                    id="_IDGenItem3"\n                    text="2027"\n                /><core:Item\n                    id="_IDGenItem4"\n                    text="2028"\n                /><core:Item\n                    id="_IDGenItem5"\n                    text="2029"\n                /><core:Item\n                    id="_IDGenItem6"\n                    text="2030"\n                /></Select><Select id="ListaMes"><core:Item\n                    id="_IDGenItem7"\n                    text="1"\n                /><core:Item\n                    id="_IDGenItem8"\n                    text="2"\n                /><core:Item\n                    id="_IDGenItem9"\n                    text="3"\n                /><core:Item\n                    id="_IDGenItem10"\n                    text="4"\n                /><core:Item\n                    id="_IDGenItem11"\n                    text="5"\n                /><core:Item\n                    id="_IDGenItem12"\n                    text="6"\n                /><core:Item\n                    id="_IDGenItem13"\n                    text="7"\n                /><core:Item\n                    id="_IDGenItem14"\n                    text="8"\n                /><core:Item\n                    id="_IDGenItem15"\n                    text="9"\n                /><core:Item\n                    id="_IDGenItem16"\n                    text="10"\n                /><core:Item\n                    id="_IDGenItem17"\n                    text="11"\n                /><core:Item\n                    id="_IDGenItem18"\n                    text="12"\n                /></Select><Button\n                id="_IDGenButton"\n                text="Buscar"\n                press="handler.onBuscarSimulação"\n            /></HBox><form:SimpleForm\n            id="form"\n            layout="ResponsiveGridLayout"\n            editable="true"\n            class="sapUiSmallMargin"\n            width="300px"\n        ><Label\n                id="_IDGenLabel16"\n                text="Total Do Mês"\n            /><ObjectNumber\n                id="TotalDoMes"\n                number="{FaturaAtual>Valor}"\n                unit="{FaturaAtual>Moeda_code}"\n            /><Label\n                id="_IDGenLabel17"\n                text="Total De Gastos"\n            /><ObjectNumber\n                id="TotalDeGastos"\n                number=""\n                unit=""\n            /><Label\n                id="_IDGenLabel12"\n                text="Valor à Economizar"\n            /><ObjectNumber\n                id="ValorAEconomizar"\n                number=""\n                unit=""\n            /></form:SimpleForm><layout:FixFlex ><layout:fixContent><Panel\n                    expandable="true"\n                    expanded="true"\n                    headerText="Categorias do mês filtrado"\n                    width="auto"\n                ><content><FlexBox\n                            id="categoryPrevisao"\n                            alignItems="Center"\n                            justifyContent="Start"\n                        ><Label text="Faça a pesquisa inicial" textAlign="Center" /></FlexBox></content></Panel><Panel\n                    expandable="true"\n                    expanded="true"\n                    headerText="Categorias da data filtrada pra frente"\n                    width="auto"\n                ><content><FlexBox\n                            id="categoryPrevisaoTotal"\n                            alignItems="Center"\n                            justifyContent="Start"\n                        ><Label text="Faça a pesquisa inicial" textAlign="Center" /></FlexBox></content></Panel></layout:fixContent></layout:FixFlex></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/PrevisaoDeGasto.js":function(){
sap.ui.define(["apps/dflc/gestaogastos/ext/fragment/AnaliseCategoriaPessoa"],function(e){"use strict";return{onInit:function(e){console.log(e)},"onBuscarSimulação":function(t){try{let t=this.getModel();var o=function(){return new Promise(function(o,s){let a=this.byId("ListaAno").getSelectedItem().getText();let n=this.byId("ListaMes").getSelectedItem().getText();const r={pessoa:this.getBindingContext().getObject().ID,mes:n,ano:a};try{fetch(t.getServiceUrl(),{method:"GET",headers:{"X-CSRF-Token":"Fetch"}}).then(function(e){if(!e.ok){throw new Error("Erro ao obter CSRF Token")}return e}.bind(this)).then(function(e){const t=e.headers.get("X-CSRF-Token");return t}.bind(this)).then(function(i){fetch(`${t.getServiceUrl()}simulaPorMesAno`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-Token":i},body:JSON.stringify(r)}).then(async function(s){console.log(s);let i=await s.json();let c=this.byId("TotalDoMes");let l=this.byId("TotalDeGastos");let m=this.byId("ValorAEconomizar");c.setNumber(i.TotalDoMes);c.setUnit(i.Moeda_code);l.setNumber(i.TotalDeGastos);l.setUnit(i.Moeda_code);m.setNumber(i.ValorAEconomizar);m.setUnit(i.Moeda_code);let d="recuperaCategorias",u=t.bindContext(`/${d}(...)`);let h=function(t,o,s){let r=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.FlexBox")&&e.getId().includes(`${t}`)});if(r.length>0){if(o?.Categorias){r=r[0];const t=[];o.Categorias.forEach(r=>{const i=r.TotalCategoria||0;const c=r.Porcentagem;const l=new sap.m.GenericTile({id:`Previsao::${r.ID}::${crypto.randomUUID()}`,header:r.Nome,subheader:`${i} ${o.Moeda}`,press:function(t){if(!s){e.onPressPrevisao(t,a,n)}else{e.onPressPrevisaoTotal(t,a,n)}}.bind(this),frameType:"OneByOne",tileContent:[new sap.m.TileContent({footer:`Gasto: ${c.toFixed(2)}%`,content:new sap.m.HBox({items:[new sap.m.Avatar({src:r?.Imagem||null,displaySize:"XS"}),new sap.suite.ui.microchart.RadialMicroChart({size:sap.m.Size.S,percentage:c,valueColor:c>20?"Error":"Good",alignContent:"Center"})]})})]});t.push(l)});r.removeAllItems();if(t.length==0){r.addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}else{t.forEach((e,o)=>{r.addItem(e);if(o<t.length-1){r.addItem(new sap.m.Label({text:"  --  "}))}})}r.setBusy(false)}else{r[0].removeAllItems();r[0].addItem(new sap.m.Label({text:"Não há categorias com gastos nesse Mês"}))}}};u.setParameter("pessoa",r.pessoa);u.setParameter("mes",r.mes);u.setParameter("ano",r.ano);await u.execute();let g=u.getBoundContext().getValue();h("categoryPrevisao",g);d="recuperaCategoriasParaGastoTotal",u=t.bindContext(`/${d}(...)`);u.setParameter("pessoa",r.pessoa);u.setParameter("mes",r.mes);u.setParameter("ano",r.ano);await u.execute();g=u.getBoundContext().getValue();h("categoryPrevisaoTotal",g,true);o()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e);s()})}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao obter csrf token: "+e);s()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}}.bind(this))}.bind(this);let s={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.editFlow.securedExecution(o,s).finally(e=>{console.log(e)})}catch(e){sap.m.MessageToast.show("Erro ao buscar dados"+e)}}}});
},
	"apps/dflc/gestaogastos/ext/fragment/TransacoesDaCategoria.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n\txmlns:layout="sap.ui.layout"\n><Dialog\n        id="dialogTransacoesPorCategoria"\n        title="Detalhamento"\n        class="sapUiResponsivePadding"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/TransacoesDaCategoria\'}"\n    ><content><layout:FixFlex\n                id="DetalhamentoCartoesCategoria"\n                class="sapUiSmallMargin"\n                \n            ><layout:fixContent /></layout:FixFlex></content><buttons><Button\n                id="botaoFechar"\n                text="Fechar"\n                press="handler.fechar"\n            /></buttons></Dialog></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/TransacoesDaCategoria.js":function(){
sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{fechar:function(e){this.getParent().close()}}});
},
	"apps/dflc/gestaogastos/i18n/i18n.properties":'# This is the resource bundle for apps.dflc.gestaogastos\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Gest\\u00e3o De Gastos\n\n#YDES: Application description\nappDescription=Gest\\u00e3o De Gastos\n\n#XTIT: Custom section title\nfiltrarPrevisoDeGasto=Filtrar Previs\\u00e3o de Gasto\n\n#XBUT,45\nadicionarGasto=Adicionar Gasto\n\n#XBUT,51\nexcluirTransao=Excluir Transa\\u00e7\\u00e3o\n\n#XCOL: Custom action text\nbackup=Backup\n\n#XTIT: Custom section title\nfaturaAtual=Fatura Atual\n\n#XTIT: Custom section title\nuploadDeFotoDo=Upload de Foto Do Perfil\n',
	"apps/dflc/gestaogastos/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"apps.dflc.gestaogastos","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.16.1","toolsId":"b5fab8be-a8a4-4bf3-96db-079ae62fac4e"},"dataSources":{"mainService":{"uri":"Gerenciamento/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"gestaogastos-display":{"semanticObject":"gestaogastos","action":"display","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.131.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.templates":{},"sap.f":{},"sap.suite.ui.microchart":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"apps.dflc.gestaogastos.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"},"Variantes":{}},"resources":{"css":["css/style.css"]},"routing":{"config":{"flexibleColumnLayout":{"defaultTwoColumnLayoutType":"TwoColumnsMidExpanded","defaultThreeColumnLayoutType":"ThreeColumnsMidExpanded"},"routerClass":"sap.f.routing.Router"},"routes":[{"pattern":":?query:","name":"PessoaList","target":["PessoaList"]},{"pattern":"Pessoa({key}):?query:","name":"PessoaObjectPage","target":["PessoaList","PessoaObjectPage"]},{"pattern":"Pessoa({key})/Cartao({key2}):?query:","name":"CartaoObjectPage","target":["PessoaList","PessoaObjectPage","CartaoObjectPage"]},{"name":"Pessoa_Cartao_FaturaObjectPage","pattern":"Pessoa({key})/Cartao({key2})/Fatura({FaturaKey}):?query:","target":["Pessoa_Cartao_FaturaObjectPage"]},{"name":"Pessoa_Cartao_Fatura_TransacoesObjectPage","pattern":"Pessoa({key})/Cartao({key2})/Fatura({FaturaKey})/Transacoes({TransacoesKey}):?query:","target":["Pessoa_Cartao_Fatura_TransacoesObjectPage"]}],"targets":{"PessoaList":{"type":"Component","id":"PessoaList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Pessoa","variantManagement":"Page","navigation":{"Pessoa":{"detail":{"route":"PessoaObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable","personalization":{"column":true},"quickVariantSelection":{"hideTableTitle":true}},"columns":{"ImagemPessoaLista":{"header":"Foto","position":{"anchor":"DataField::Imagem","placement":"Before"},"template":"apps.dflc.gestaogastos.ext.fragment.ImagemPessoaLista","availability":"Default","width":"80px"}}}},"content":{"header":{"actions":{"Backup":{"press":"apps.dflc.gestaogastos.ext.controller.Backup.backup","visible":true,"enabled":true,"text":"{i18n>backup}"}}}},"initialLoad":"Enabled"}},"controlAggregation":"beginColumnPages","contextPattern":""},"PessoaObjectPage":{"type":"Component","id":"PessoaObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Pessoa","navigation":{"Cartao":{"detail":{"route":"CartaoObjectPage"}}},"content":{"body":{"sections":{"Dados":{"subSections":{"PrevisaoDeGasto":{"template":"apps.dflc.gestaogastos.ext.fragment.PrevisaoDeGasto","title":"{i18n>filtrarPrevisoDeGasto}"}}},"ImagemPessoa":{"template":"apps.dflc.gestaogastos.ext.fragment.ImagemPessoa","position":{"placement":"Before","anchor":"Dados"},"title":"{i18n>uploadDeFotoDo}"},"AnaliseCategoriaPessoa":{"template":"apps.dflc.gestaogastos.ext.fragment.AnaliseCategoriaPessoa","position":{"placement":"Before","anchor":"Dados"},"title":"Análise de gastos por categoria"}}},"header":{"actions":{"AdicionarGasto":{"press":"apps.dflc.gestaogastos.ext.controller.AdicionarGasto.adicionarGasto","visible":true,"enabled":true,"requiresSelection":false,"text":"{@i18n>adicionarGasto}"}}}},"controlConfiguration":{"Cartao/@com.sap.vocabularies.UI.v1.LineItem#i18nCartes":{"tableSettings":{"creationMode":{"name":"NewPage"},"type":"ResponsiveTable","selectionLimit":100,"enableFullScreen":true,"enablePaste":true,"selectAll":true,"selectionMode":"Multi"},"columns":{"ImagemCartaoLista":{"header":"Foto","width":"80px","position":{"anchor":"DataField::Imagem","placement":"Before"},"template":"apps.dflc.gestaogastos.ext.fragment.ImagemCartaoLista","availability":"Default","properties":["Imagem"]}}}}}},"controlAggregation":"midColumnPages","contextPattern":"/Pessoa({key})"},"CartaoObjectPage":{"type":"Component","id":"CartaoObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Pessoa/Cartao","navigation":{"Fatura":{"detail":{"route":"Pessoa_Cartao_FaturaObjectPage"}}},"content":{"body":{"sections":{"FaturaAtual":{"template":"apps.dflc.gestaogastos.ext.fragment.FaturaAtual","position":{"placement":"After","anchor":"i18nDados"},"title":"{i18n>faturaAtual}"},"ImagemCartao":{"template":"apps.dflc.gestaogastos.ext.fragment.ImagemCartao","position":{"placement":"Before","anchor":"i18nDados"},"title":"Upload Imagem do Cartao"},"AnaliseCategoriaCartao":{"template":"apps.dflc.gestaogastos.ext.fragment.AnaliseCategoriaCartao","position":{"placement":"After","anchor":"FaturaAtual"},"title":"Categorias dessa fatura"}}}},"showRelatedApps":false}},"controlAggregation":"endColumnPages","contextPattern":"/Pessoa({key})/Cartao({key2})"},"Pessoa_Cartao_FaturaObjectPage":{"type":"Component","id":"Pessoa_Cartao_FaturaObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"navigation":{"Transacoes":{"detail":{"route":"Pessoa_Cartao_Fatura_TransacoesObjectPage"}}},"contextPath":"/Pessoa/Cartao/Fatura","content":{"header":{"actions":{}},"body":{"sections":{"AnaliseCategoriaFatura":{"template":"apps.dflc.gestaogastos.ext.fragment.AnaliseCategoriaFatura","position":{"placement":"After","anchor":"i18nDadosDeControle1"},"title":"Categorias"}}}},"controlConfiguration":{"Transacoes/@com.sap.vocabularies.UI.v1.LineItem#i18nTransaescompras":{"actions":{"ExcluirTransacaoo":{"press":"apps.dflc.gestaogastos.ext.controller.ExcluirTransacao.excluirTransacao","visible":true,"enabled":true,"requiresSelection":true,"text":"{i18n>excluirTransao}"},"MudarCategoria":{"press":"apps.dflc.gestaogastos.ext.controller.MudarCategoria.mudarCategoria","visible":true,"enabled":true,"requiresSelection":true,"text":"Mudar Categoria","position":{"placement":"Before","anchor":"ExcluirTransacaoo"}}},"tableSettings":{"selectAll":false,"selectionMode":"Single"},"columns":{"DataField::Categoria::Imagem":{"width":"80px"}}}},"editableHeaderContent":false}},"controlAggregation":"endColumnPages","contextPattern":"/Pessoa({key})/Cartao({key2})/Fatura({FaturaKey})"},"Pessoa_Cartao_Fatura_TransacoesObjectPage":{"type":"Component","id":"Pessoa_Cartao_Fatura_TransacoesObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"navigation":{},"contextPath":"/Pessoa/Cartao/Fatura/Transacoes"}},"controlAggregation":"endColumnPages","contextPattern":"/Pessoa({key})/Cartao({key2})/Fatura({FaturaKey})/Transacoes({TransacoesKey})"}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ObjectPage.ObjectPageController#apps.dflc.gestaogastos::CartaoObjectPage":{"controllerName":"apps.dflc.gestaogastos.ext.controller.CartaoObjeto"},"sap.fe.templates.ObjectPage.ObjectPageController#apps.dflc.gestaogastos::PessoaObjectPage":{"controllerName":"apps.dflc.gestaogastos.ext.controller.PessoaObjeto"},"sap.fe.templates.ListReport.ListReportController#apps.dflc.gestaogastos::PessoaList":{"controllerName":"apps.dflc.gestaogastos.ext.controller.PessoaLista"},"sap.fe.templates.ObjectPage.ObjectPageController#apps.dflc.gestaogastos::Pessoa_Cartao_FaturaObjectPage":{"controllerName":"apps.dflc.gestaogastos.ext.controller.FaturaObjeto"}}}},"rootView":{"viewName":"sap.fe.templates.RootContainer.view.Fcl","type":"XML","async":true,"id":"appRootView"}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"GestorDeGastos.service"}}'
=======
	"apps/dflc/gestaogastos/ext/controller/AdicionarGasto.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,t,o){"use strict";return{adicionarGasto:function(e){const a=this.editFlow.getView();const s=a.getModel();var n=()=>new Promise((e,s)=>{try{fetch(`/Gerenciamento/Currencies`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(t){console.log(t);let s=await t.json();const n=new o(s.value.flat());a.setModel(n,"Moedas");e()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço de Moedas: "+e);s()});const n={Pessoa_ID:this.getBindingContext().getObject().ID};fetch(`/Gerenciamento/Cartao?$filter=Pessoa_ID eq ${n.Pessoa_ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(s){console.log(s);let n=await s.json();let i;if(Array.isArray(n.value))i=n.value;else i=[n.value];const c=new o(i);a.setModel(c,"Cartoes");if(!this.pDialog){this.pDialog=t.load({id:a.getId(),name:"apps.dflc.gestaogastos.ext.fragment.AdicionarGasto"}).then(function(e){a.addDependent(e);return e})}this.pDialog.then(function(e){e.open()});e()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e);s()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}});let i={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.editFlow.securedExecution(n,i).finally(e=>{console.log(e)})}}});
},
	"apps/dflc/gestaogastos/ext/controller/Backup.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(t,e,a){"use strict";return{backup:function(){const t=this.editFlow.getView();if(!this._backupDialog){this._backupDialog=e.load({id:"Backup",name:"apps.dflc.gestaogastos.ext.fragment.Backup"}).then(function(e){t.addDependent(e);return e}.bind(this))}this._backupDialog.then(function(t){t.open()})}}});
},
	"apps/dflc/gestaogastos/ext/controller/CartaoObjeto.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/ui/model/json/JSONModel","sap/ui/core/Fragment"],function(e,t,i){"use strict";return e.extend("apps.dflc.gestaogastos.ext.controller.CartaoObjeto",{defineModeloFaturaAtual:async function(e){let t=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Panel")&&e.getId().includes("PainelSemFatura")});let i=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Panel")&&e.getId().includes("PainelFatura")||e.getId().includes("PainelTransacoes")});let a=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.VBox")&&e.getId().includes("FaturaAtualVBox")});if(Array.isArray(t)){t[0].setVisible(false)}if(Array.isArray(i)){i.forEach(e=>{e.setVisible(false)})}let n=a[0];n.setBusy(true);let r=await e.requestObject(e.getPath());if(!r.ID){do{await this.wait();r=await e.requestObject(e.getPath())}while(!r.ID)}const s=this.getView();const o="Fatura";const l=r.ID;let u=(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"});u=u.replaceAll(","," ");let[c,f,d]=u.split(" ")[0].split("/");c=Number(c);f=Number(f);d=Number(d);const p=s.getModel();if(r.DiaFechamento<=c){if(f<12){f+=1}else{f=1;d+=1}}let m=[new sap.ui.model.Filter("Cartao_ID",sap.ui.model.FilterOperator.EQ,l),new sap.ui.model.Filter("Ano",sap.ui.model.FilterOperator.EQ,d),new sap.ui.model.Filter("Mes",sap.ui.model.FilterOperator.EQ,f)];p.bindList("/Fatura",null,null,m).requestContexts().then(async function(e){if(e.length>0){const t=e[0];n.bindElement(t.getPath());if(Array.isArray(i)){i.forEach(e=>{e.setVisible(true)})}n.setBusy(false)}else{if(Array.isArray(t)){t[0].setVisible(true)}n.setBusy(false);console.warn("Nenhuma fatura encontrada.")}}.bind(this)).catch(e=>{console.error("Erro ao buscar a fatura:",e)})},sleep:function(e){return new Promise(t=>setTimeout(t,e))},wait:async function(){await this.sleep(500)},override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},onBeforeRendering:async function(e){},onAfterRendering:function(e){},routing:{onAfterBinding:async function(e){this.defineModeloFaturaAtual(e)},onBeforeBinding:async function(e){}}}})});
},
	"apps/dflc/gestaogastos/ext/controller/ExcluirTransacao.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,a,t){"use strict";return{excluirTransacao:function(e){let n=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("i18nTransaescompras-innerTable")});let o=n[0];let s=o.getSelectedItems()[0].getBindingContext().getValue();const i=this.getBindingContext().getValue();const r=this.editFlow.getView();if(s.ParcelasTotais>1){var c=()=>new Promise((e,n)=>{try{fetch(`/Gerenciamento/Transacao?$filter=ID eq ${s.ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(o){console.log(o);let i=await o.json();let c=Array.isArray(i.value)?i.value:[i.value];if(!o.ok){throw new Error("Erro ao selecionar transações")}s=c[0];fetch(`/Gerenciamento/Transacao?$filter=Identificador eq ${s.Identificador} and ID ne ${s.ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(n){console.log(n);let o=await n.json();let i=Array.isArray(o.value)?o.value:[o.value];i=i.sort(function(e,a){return a.Parcela-e.Parcela});let c={Dados:s,Relacionadas:i};const l=new t(c);r.setModel(l,"Transacao");if(!this.pDialog){this.pDialog=a.load({id:r.getId(),name:"apps.dflc.gestaogastos.ext.fragment.ExcluirTransacao"}).then(function(e){r.addDependent(e);return e})}this.pDialog.then(function(e){e.open()});e()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço de Transações: "+e);n()})}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço de Transações: "+e);n()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}});let e={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.editFlow.securedExecution(c,e).finally(e=>{console.log(e)})}else{let e={Dados:s,Relacionadas:[]};const n=new t(e);r.setModel(n,"Transacao");if(!this.pDialog){this.pDialog=a.load({id:r.getId(),name:"apps.dflc.gestaogastos.ext.fragment.ExcluirTransacao"}).then(function(e){r.addDependent(e);return e})}this.pDialog.then(function(e){e.open()})}}}});
},
	"apps/dflc/gestaogastos/ext/controller/PessoaObjeto.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/ControllerExtension","sap/ui/core/message/Message","sap/ui/core/MessageType","sap/ui/model/json/JSONModel"],function(e,t,s,a){"use strict";return e.extend("apps.dflc.gestaogastos.ext.controller.PessoaObjeto",{defineAvisos:async function(e){let a=await e.requestObject(e.getPath());if(!a.ID){do{await this.wait();a=await e.requestObject(e.getPath())}while(!a.ID)}const o=this.base.getExtensionAPI();const n=[];var i=()=>new Promise((e,i)=>{try{const r={Pessoa_ID:a.ID};fetch(`/Gerenciamento/Cartao?$filter=Pessoa_ID eq ${r.Pessoa_ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(i){let r=await i.json();let c;if(Array.isArray(r.value))c=r.value;else c=[r.value];let l=(new Date).toLocaleString("pt-BR",{timeZone:"America/Sao_Paulo"});l=l.replaceAll(","," ");let[u,g,p]=l.split(" ")[0].split("/");c.forEach(e=>{if(e.DiaVencimento-u>=0&&e.DiaVencimento-u<2){if(n.length==0){n.push(new t({type:s.Warning,message:`A fatura do cartão ${e.NomeCartao} está vencendo`}))}}});if(a.TotalDoMes>a.ObjetivoDeGasto&&n.length==0){n.push(new t({type:s.Warning,message:"Seu gasto está acima do seu objetivo de gasto mensal"}))}if(a.TotalDoMes>a.Renda&&n.length==0){n.push(new t({type:s.Warning,message:"Seu gasto está acima mensal está superior a sua renda, fique de olho e reduza seus gastos!"}))}o.showMessages(n);e()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro:"+e);i()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}});let r={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.base.getExtensionAPI().editFlow.securedExecution(i,r).finally(e=>{console.log(e)})},sleep:function(e){return new Promise(t=>setTimeout(t,e))},wait:async function(){await this.sleep(500)},override:{onInit:function(){var e=this.base.getExtensionAPI().getModel()},onAfterRendering:function(e){let t=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.ui.layout.form.FormElement")&&e.getId().includes("Imagem")});let s=t[0]},routing:{onAfterBinding:async function(e){this.defineAvisos(e)}}}})});
},
	"apps/dflc/gestaogastos/ext/fragment/AdicionarGasto.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:layout="sap.ui.layout.form"\n    xmlns:VL="sap.ui.comp.valuehelpdialog"\n    id="AdicionarGasto"\n><Dialog\n        id="_IDGenDialog1"\n        title="Adicionar Gasto"\n        class="sapUiResponsivePadding"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/AdicionarGasto\'}"\n    ><content><VBox\n                id="_IDGenVBox"\n                class="sapUiSmallMargin"\n            ><Label\n                    id="_IDGenLabel7"\n                    text="Descrição"\n                    required="true"\n                /><Input\n                    id="descricaoGastoInput"\n                    value=""\n                    type="Text"\n                    textAlign="End"\n                    required="true"\n                /><Label\n                    id="_IDGenLabel8"\n                    text="Valor do Gasto"\n                    required="true"\n                /><HBox\n                    id="valorHBox"\n                    width="100%"\n                    class="sapUiNoMargin"\n                ><Input\n                        id="valorGastoInput"\n                        value="0.00"\n                        type="Number"\n                        textAlign="End"\n                        width="auto"\n                        class="sapUiTinyMarginEnd"\n                        required="true"\n                    /><Input\n                        id="moedaGastoInput"\n                        value="BRL"\n                        type="Text"\n                        textAlign="End"\n                        width="auto"\n                        class="sapUiTinyMarginEnd"\n                        required="true"\n                        showValueHelp="true"\n                        valueHelpRequest="handler.onValueHelpRequest"\n                    /></HBox><Label\n                    id="_IDGenLabel9"\n                    text="Data do Gasto"\n                    required="true"\n                /><DatePicker\n                    id="dataGastoPicker"\n                    displayFormat="dd/MM/yyyy"\n                    required="true"\n                /><Label\n                    id="_IDGenLabel10"\n                    text="Total de Parcelas"\n                    required="true"\n                /><Input\n                    id="totalParcelasInput"\n                    value="1"\n                    type="Number"\n                    textAlign="End"\n                    required="true"\n                /><CheckBox\n                    id="gastoFixoCheckBox"\n                    text="Gasto Fixo"\n                /><Label\n                    id="_IDGenLabel6"\n                    text="Selecionar Cartão"\n                    required="true"\n                /><Select\n                    id="cartaoSelect"\n                    items="{\n                        path: \'Cartoes>/\' }"\n                    required="true"\n                ><core:Item\n                        id="_IDGenItem21"\n                        key="{Cartoes>ID}"\n                        text="{Cartoes>NomeCartao}"\n                    /></Select></VBox></content><buttons><Button\n                id="_IDGenButton1"\n                text="Cancelar"\n                press="handler.onCancelarGasto"\n            /><Button\n                id="_IDGenButton2"\n                text="Adicionar"\n                type="Emphasized"\n                press="handler.onAdicionarGasto"\n            /></buttons></Dialog></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/AdicionarGasto.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/comp/valuehelpdialog/ValueHelpDialog","sap/ui/model/Filter","sap/ui/model/FilterOperator"],function(e,t,a,s){"use strict";return{onInit:function(e){console.log(e)},onCancelarGasto:function(e){this.getParent().close()},onAdicionarGasto:async function(e){const t=this.getParent().getParent();const a=this.getParent();a.setBusy(true);var s=t.byId("descricaoGastoInput");var o=t.byId("valorGastoInput");var l=t.byId("moedaGastoInput");var r=t.byId("dataGastoPicker");var i=t.byId("gastoFixoCheckBox");var n=t.byId("totalParcelasInput");var u=t.byId("cartaoSelect");var c=true;if(!s.getValue()){s.setValueState("Error");c=false}else if(s.getValue()==" "){s.setValueState("Error");c=false}else{s.setValueState("None")}if(!o.getValue()){o.setValueState("Error");c=false}else if(o.getValue()==0){o.setValueState("Error");c=false}else if(o.getValue()<0){o.setValueState("Error");c=false}else{o.setValueState("None")}if(!l.getValue()){l.setValueState("Error");c=false}else{let e=t.getModel("Moedas").getData().filter(e=>[l.getValue()].includes(e.code));if(e.length==0){l.setValueState("Error");c=false}else{l.setValueState("None")}}if(!r.getValue()){r.setValueState("Error");c=false}else{r.setValueState("None")}if(!n.getValue()){n.setValueState("Error");c=false}else if(n.getValue()==0){n.setValueState("Error");c=false}else{n.setValueState("None")}if(!u.getSelectedKey()){u.setValueState("Error");c=false}else{u.setValueState("None")}if(!c){sap.m.MessageToast.show("Por favor, preencha todos os campos obrigatórios.");a.setBusy(false);return}if(i.getSelected()&&n.getValue()>1){sap.m.MessageToast.show("Quando o gasto é fixo a parcela deve ser igual a 1");a.setBusy(false);return}const d=t.byId("descricaoGastoInput").getValue();const g=t.byId("valorGastoInput").getValue();const p=t.byId("moedaGastoInput").getValue();const f=t.byId("dataGastoPicker").getValue();const V=t.byId("totalParcelasInput").getValue();const m=t.byId("gastoFixoCheckBox").getSelected();const h=t.byId("cartaoSelect").getSelectedKey();const b=f.split("/");const I=`${b[2]}-${b[1]}-${b[0]}`;var y=new Date(f.split("/").reverse().join("-"));if(isNaN(y.getTime())){r.setValueState("Error");sap.m.MessageToast.show("Data inválida. Por favor, insira uma data válida.");a.setBusy(false);return}const S={pessoa:this.getBindingContext().getValue().ID,descricao:d,valor:parseFloat(g),moeda:p,data:I,parcelas:parseInt(V,10),gastofixo:m,cartao:h};let v="adicionarGasto";const P=t.getModel().bindContext(`/${v}(...)`);P.setParameter("pessoa",S.pessoa);P.setParameter("descricao",S.descricao);P.setParameter("valor",S.valor);P.setParameter("moeda",S.moeda);P.setParameter("data",S.data);P.setParameter("parcelas",S.parcelas);P.setParameter("gastofixo",S.gastofixo);P.setParameter("cartao",S.cartao);await P.execute();a.setBusy(false);const x=P.getBoundContext();let w=x.getProperty("sucesso");if(w){s.setValue("");o.setValue(0);r.setValue("");n.setValue(1);i.setSelected(false);let e=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("innerTable")});let t=e[0];t.refreshItems();const l=this.getBindingContext();l.refresh();let u=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.VBox")&&e.getId().includes("FaturaAtualVBox")});if(u.length){let e=u[0];e.getBindingContext().refresh()}a.close();sap.m.MessageToast.show("Gasto adicionado com sucesso!")}},onValueHelpRequest:function(e){var o=this.getParent().getParent().getParent().getParent();if(!this._oValueHelpDialog){this._oValueHelpDialog=new t({title:"Selecione a Moeda",supportMultiselect:false,key:"code",width:"200px",descriptionKey:"descr",supportRanges:false,filterMode:true,basicSearchText:"",ok:function(e){var t=e.getParameter("tokens");if(t.length>0){var a=t[0].getKey();o.byId("moedaGastoInput").setValue(a)}this._oValueHelpDialog.close()}.bind(this),cancel:function(){this._oValueHelpDialog.close()}.bind(this)});this._oValueHelpDialog.setFilterBar(new sap.ui.comp.filterbar.FilterBar({basicSearch:new sap.m.SearchField({placeholder:"Buscar...",liveChange:function(e){var t=e.getParameter("newValue");var o=new a({filters:[new a("code",s.Contains,t),new a("name",s.Contains,t)],and:false});l.getBinding("rows").filter(o)}})}));var l=this._oValueHelpDialog.getTable();l.setModel(o.getModel("Moedas"));l.bindRows("Moedas>/");l.addColumn(new sap.ui.table.Column({label:new sap.m.Label({text:"Código"}),template:new sap.m.Text({text:"{Moedas>code}"})}));l.addColumn(new sap.ui.table.Column({label:new sap.m.Label({text:"Descrição"}),template:new sap.m.Text({text:"{Moedas>descr}"})}));o.addDependent(this._oValueHelpDialog)}this._oValueHelpDialog.open()}}});
},
	"apps/dflc/gestaogastos/ext/fragment/Backup.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:unified="sap.ui.unified"\n    xmlns:layout="sap.ui.layout"\n>\n    id="RealizarBackup"\n><Dialog\n        id="dialogBackup"\n        title="Backup"\n        class="sapUiResponsivePadding"\n        contentWidth="100px"\n        contentHeight="auto"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/Backup\'}"\n    ><content><layout:VerticalLayout\n                id="_IDGenVerticalLayout1"\n                class="sapUiContentPadding"\n                width="100%"\n            ><unified:FileUploader\n                    id="fileUploader"\n                    name="file"\n                    width="100%"\n                    placeholder="Selecione um arquivo Excel para importar"\n                    fileType="xlsx"\n                    mimeType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"\n                    change="onFileChange"\n                /></layout:VerticalLayout></content><buttons><Button\n                id="_IDGenButton6"\n                icon="sap-icon://download-from-cloud"\n                press="handler.exportarBackup"\n                type="Success"\n            /><Button\n                id="_IDGenButton3"\n                icon="sap-icon://upload-to-cloud"\n                type="Success"\n                press="handler.importarBackup"\n            /><Button\n                id="_IDGenButton8"\n                type="Negative"\n                icon="sap-icon://decline"\n                press="handler.cancelarBackup"\n            /></buttons></Dialog></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/Backup.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/core/util/File","sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,t,a,o){"use strict";return{exportarBackup:async function(){var a=this.getParent();var o=this.getParent().getParent();a.close();var s=new sap.m.Dialog({title:"Exportar Backup",type:"Message",content:new sap.m.Text({text:"Gerando backup, aguarde..."})});s.setBusy(true);s.open();let r="exportarBackup";let n=o.getModel().bindContext(`/${r}(...)`);await n.execute();let i=n.getBoundContext();let c=i.getValue("value");s.close();if(c){const a=new Uint8Array(c.body.data);t.save(a,"backup-gestor-de-gastos","xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");e.show("Backup exportado com sucesso!")}else{e.show("Erro ao exportar backup!")}},importarBackup:async function(){const t=this.getParent().getParent();const o=this.getParent();const s=a.byId("Backup","fileUploader");const r=s.oFileUpload.files;sap.ui.core.BusyIndicator.show();if(!r||r.length===0){e.show("Por favor, selecione um arquivo.");sap.ui.core.BusyIndicator.hide();return}const n=r[0];const i=new FileReader;i.onload=async a=>{const s=a.target.result.split(",")[1];try{let a="importarBackup";let r=t.getModel().bindContext(`/${a}(...)`);r.setParameter("file",s);await r.execute();sap.ui.core.BusyIndicator.hide();o.setBusy(false);let n=r.getBoundContext();let i=n.getValue("value");o.close();if(i){const a=t.getModel();a.refresh();let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("innerTable")});let s=o[0];s.refreshItems();let r=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.VBox")&&e.getId().includes("FaturaAtualVBox")});if(r.length){let e=r[0];e.getBindingContext().refresh()}e.show(i)}else{e.show("Erro ao importar backup!")}}catch(t){e.show("Erro ao importar o arquivo: "+t.message)}};i.readAsDataURL(n)},cancelarBackup:function(e){this.getParent().close()}}});
},
	"apps/dflc/gestaogastos/ext/fragment/ExcluirTransacao.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:layout="sap.ui.layout.form"\n    id="ExcluirTransacao"\n><Dialog\n        id="dialogExcluirTransacao"\n        title="Excluir Transação"\n        class="sapUiResponsivePadding"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/ExcluirTransacao\'}"\n    ><content><VBox\n                id="contentVBox"\n                class="sapUiSmallMargin"\n            ><Label\n                    id="_IDGenLabel111"\n                    text="Descrição da Transação"\n                /><Input\n                    id="dataTransacao"\n                    value="{Transacao>/Dados/Descricao}"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel11"\n                    text="Data da Transação"\n                /><Input\n                    id="nomeTransacao"\n                    value="{Transacao>/Dados/Data}"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel2"\n                    text="Valor"\n                /><Input\n                    id="valorTransacao"\n                    value="{Transacao>/Dados/Valor}"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel13"\n                    text="Parcela"\n                /><Input\n                    id="parcelaTransacao"\n                    value="{=${Transacao>/Dados/Parcela} === undefined ? 1 : ${Transacao>/Dados/Parcela} }"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel4"\n                    text="Quantidade de Parcelas Totais"\n                /><Input\n                    id="quantidadeParcelas"\n                    value="{Transacao>/Dados/ParcelasTotais}"\n                    enabled="false"\n                /><Input\n                    id="identificadorTransacao"\n                    visible="false"\n                    value="{Transacao>/Dados/Identificador}"\n                    enabled="false"\n                /><Input\n                    id="idTransacao"\n                    visible="false"\n                    value="{Transacao>/Dados/ID}"\n                    enabled="false"\n                /><Label\n                    id="_IDGenLabel5"\n                    text="Transações Relacionadas"\n                    visible="{= ${Transacao>/Relacionadas}.length > 0 }"\n                /><Table\n                    id="listaTransacoesRelacionadas"\n                    items="{ path: \'Transacao>/Relacionadas\' }"\n                    visible="{= ${Transacao>/Relacionadas}.length > 0 }"\n                    width="300px"\n                    growing="true"\n                    growingScrollToLoad="true"\n                ><columns><Column\n                            id="_IDGenColumn"\n                            minScreenWidth="Small"\n                            demandPopin="true"\n                            width="50%"\n                        ><Text\n                                id="_IDGenText"\n                                text="Valor"\n                            /></Column><Column\n                            id="_IDGenColumn1"\n                            minScreenWidth="Small"\n                            demandPopin="true"\n                            width="50%"\n                        ><Text\n                                id="_IDGenText1"\n                                text="Parcela"\n                            /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem"><cells><Text\n                                    id="_IDGenText2"\n                                    text="{Transacao>Valor}"\n                                /><Text\n                                    id="_IDGenText3"\n                                    text="{Transacao>Parcela}"\n                                /></cells></ColumnListItem></items></Table><CheckBox\n                    id="excluirTransacoesRelacionadas"\n                    text="Excluir transações relacionadas"\n                    visible="{= ${Transacao>/Relacionadas}.length > 0 }"\n                /></VBox></content><buttons><Button\n                id="botaoCancelar"\n                text="Cancelar"\n                press="handler.cancelarExclusao"\n            /><Button\n                id="botaoConfirmar"\n                text="Confirmar"\n                type="Emphasized"\n                press="handler.excluirTransacao"\n            /></buttons></Dialog></core:FragmentDefinition>',
	"apps/dflc/gestaogastos/ext/fragment/ExcluirTransacao.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/model/json/JSONModel"],function(e,t){"use strict";return{excluirTransacao:function(e){var t=e.getSource().getParent();var n=this.getParent().getParent();var a=n.byId("idTransacao").getValue();var r=n.byId("identificadorTransacao").getValue();var s=n.byId("excluirTransacoesRelacionadas").getSelected();let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("i18nTransaescompras-innerTable")});let i=o[0];let c=this.getBindingContext().getValue();if(sap.ui.getCore().oFatura){c=sap.ui.getCore().oFatura}var u={fatura:c.ID,transacao:a,identificador:r,excluirRelacionadas:s};t.setBusy(true);var l=()=>new Promise((e,a)=>{fetch("/Gerenciamento",{method:"GET",headers:{"X-CSRF-Token":"Fetch"}}).then(function(e){if(!e.ok){throw new Error("Erro ao obter CSRF Token")}return e}.bind(this)).then(function(e){const t=e.headers.get("X-CSRF-Token");return t}.bind(this)).then(function(r){fetch("/Gerenciamento/excluirTransacao",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-Token":r},body:JSON.stringify(u)}).then(function(e){if(!e.ok){throw new Error("Erro ao excluir transação.")}return e.json()}).then(function(a){let r=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("innerTable")});if(r.length){let e=r[0];e.refreshItems();const t=this.getBindingContext();t.refresh()}let s=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.VBox")&&e.getId().includes("FaturaAtualVBox")});if(s.length){let e=s[0];e.getBindingContext().refresh()}n.byId("excluirTransacoesRelacionadas").setSelected(false);sap.m.MessageToast.show("Transação excluída com sucesso.");t.setBusy(false);t.close();e()}.bind(this)).catch(function(e){t.setBusy(false);sap.m.MessageToast.show("Erro: "+e.message);a()})}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao obter csrf token: "+e);a()})});let d={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};let g=this.getParent().getParent().getController().getExtensionAPI().getEditFlow();g.securedExecution(l,d).finally(e=>{console.log(e)})},cancelarExclusao:function(e){this.getParent().close()}}});
},
	"apps/dflc/gestaogastos/ext/fragment/FaturaAtual.fragment.xml":'<core:FragmentDefinition\n    id="TESTE"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:macros="sap.fe.macros"\n    xmlns:table="sap.ui.table"\n    xmlns:layout="sap.ui.layout.form"\n><VBox\n        id="FaturaAtualVBox"\n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/FaturaAtual\'}"\n    ><Panel\n            id="PainelFatura"\n            headerText="Detalhes da Fatura"\n            width="100%"\n        ><content><layout:SimpleForm\n                    id="idFaturaForm"\n                    editable="false"\n                    layout="ResponsiveGridLayout"\n                    labelSpanL="4"\n                    labelSpanM="3"\n                    emptySpanL="0"\n                    emptySpanM="0"\n                    columnsL="1"\n                    columnsM="1"\n                ><Label\n                        id="_IDGenLabel"\n                        text="Ano"\n                    /><Text\n                        id="_IDGenText13"\n                        text="{Ano}"\n                    /><Label\n                        id="_IDGenLabel1"\n                        text="Mês"\n                    /><Text\n                        id="_IDGenText14"\n                        text="{Mes}"\n                    /><Label\n                        id="_IDGenLabel14"\n                        text="Descrição"\n                    /><Text\n                        id="_IDGenText15"\n                        text="{Descricao}"\n                    /><Label\n                        id="_IDGenLabel3"\n                        text="Valor Total"\n                    /><ObjectNumber\n                        id="_IDGenObjectNumber"\n                        number="{ValorTotal}"\n                        unit="{Moeda_code}"\n                    /></layout:SimpleForm></content></Panel><Panel\n            id="PainelTransacoes"\n            headerText="Transações da Fatura"\n            width="100%"\n        ><content><Table\n                    id="transactionsTable"\n                    inset="false"\n                    mode="SingleSelect"\n                    noDataText="Nenhuma transação encontrada"\n                    growing="true"\n                    growingScrollToLoad="true"\n                    growingThreshold="10"\n                    items="{path: \'Transacoes\'}"\n                ><headerToolbar><OverflowToolbar id="_IDGenOverflowToolbar1"><SearchField\n                                id="_IDGenSearchField"\n                                search="handler.pesquisarTransacao"\n                                width="17.5rem"\n                            /><ToolbarSpacer id="_IDGenToolbarSpacer1" /><Button\n                                id="_IDGenButton5"\n                                text="Excluir"\n                                press="handler.excluirTransacao"\n                            /></OverflowToolbar></headerToolbar><columns><Column id="_IDGenColumn7"><Text\n                                id="_IDGenText5"\n                                text="Data"\n                            /></Column><Column id="_IDGenColumn2"><Text\n                                id="_IDGenText6"\n                                text="Valor"\n                            /></Column><Column id="_IDGenColumn3"><Text\n                                id="_IDGenText7"\n                                text="Parcelas"\n                            /></Column><Column id="_IDGenColumn4"><Text\n                                id="_IDGenText8"\n                                text="Descrição"\n                            /></Column></columns><items><ColumnListItem id="_IDGenColumnListItem1"><cells><Text\n                                    id="_IDGenText10"\n                                    text="{Data}"\n                                /><ObjectNumber\n                                    id="_IDGenObjectNumber1"\n                                    number="{Valor}"\n                                    unit="{Moeda_code}"\n                                /><Text\n                                    id="_IDGenText11"\n                                    text="{Parcela} de {ParcelasTotais}"\n                                /><Text\n                                    id="_IDGenText12"\n                                    text="{Descricao}"\n                                /><Text\n                                    id="IdTransacao"\n                                    text="{ID}"\n                                    visible="false"\n                                /><Text\n                                    id="IdentificadorTransacao"\n                                    text="{Identificador}"\n                                    visible="false"\n                                /></cells></ColumnListItem></items></Table></content></Panel><Panel\n            id="PainelSemFatura"\n            headerText="Sem Fatura Atual"\n            width="100%"\n        ><content><Text\n                    text="Caso seja adicionado gastos para fatura desse mês recarregue a página."\n                /></content></Panel></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/FaturaAtual.js":function(){
sap.ui.define(["sap/m/MessageToast","sap/ui/core/Fragment","sap/ui/model/json/JSONModel"],function(e,t,a){"use strict";return{onPress:function(t){e.show("Custom handler invoked.")},formatter:{formatDate:function(e){if(!e){return""}const t=new Date(`${e}T00:00:00`);const a=String(t.getDate()).padStart(2,"0");const n=String(t.getMonth()+1).padStart(2,"0");const s=t.getFullYear();return`${a}/${n}/${s}`}},excluirTransacao:async function(e){let n=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.ui.layout.form.SimpleForm")&&e.getId().includes("idFaturaForm")});let s=n[0];let o=sap.ui.core.Element.registry.filter(function(e){return e.isA("sap.m.Table")&&e.getId().includes("transactionsTable")});let i=o[0];const r=i.getSelectedItems();if(r.length===0){sap.m.MessageToast.show("Selecione uma transação para excluir.");return}let c=s.getBindingContext().getValue();let l=r[0].getBindingContext().getValue();const u=this._view;sap.ui.getCore().oFatura=c;if(l.ParcelasTotais>1){var d=()=>new Promise((e,n)=>{try{fetch(`/Gerenciamento/Transacao?$filter=Identificador eq ${l.Identificador} and ID ne ${l.ID}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async function(n){console.log(n);let s=await n.json();let o=Array.isArray(s.value)?s.value:[s.value];o=o.sort(function(e,t){return t.Parcela-e.Parcela});let i={Dados:l,Relacionadas:o};const r=new a(i);u.setModel(r,"Transacao");if(!this.pDialog){this.pDialog=t.load({id:u.getId(),name:"apps.dflc.gestaogastos.ext.fragment.ExcluirTransacao"}).then(function(e){u.addDependent(e);return e})}this.pDialog.then(function(e){e.open()});e()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço de Transações: "+e);n()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}});let e={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.editFlow.securedExecution(d,e).finally(e=>{console.log(e)})}else{let e={Dados:l,Relacionadas:[]};const n=new a(e);u.setModel(n,"Transacao");if(!this.pDialog){this.pDialog=t.load({id:u.getId(),name:"apps.dflc.gestaogastos.ext.fragment.ExcluirTransacao"}).then(function(e){u.addDependent(e);return e})}this.pDialog.then(function(e){e.open()})}},pesquisarTransacao:function(e){var t=[],a=e.getParameter("query");if(a&&a.length>0){t=[new Filter("Name",FilterOperator.Contains,a)]}const n=this._view.byId("transactionsTable").getBinding("items").filter(t,"Application")}}});
},
	"apps/dflc/gestaogastos/ext/fragment/PrevisaoDeGasto.fragment.xml":'<core:FragmentDefinition\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"\n    xmlns:macros="sap.fe.macros"\n    xmlns:layout="sap.ui.layout.form"\n><VBox id="_IDGenVBox2"\n        \n        core:require="{ handler: \'apps/dflc/gestaogastos/ext/fragment/PrevisaoDeGasto\'}"\n    ><HBox\n            id="_IDGenHBox1"\n            alignItems="Center"\n            class="sapUiTinyMarginBottom"\n        ><Select\n                id="ListaAno"\n                class="sapUiTinyMarginEnd"\n            ><core:Item\n                    id="_IDGenItem"\n                    text="2024"\n                /><core:Item\n                    id="_IDGenItem1"\n                    text="2025"\n                /><core:Item\n                    id="_IDGenItem2"\n                    text="2026"\n                /><core:Item\n                    id="_IDGenItem3"\n                    text="2027"\n                /><core:Item\n                    id="_IDGenItem4"\n                    text="2028"\n                /><core:Item\n                    id="_IDGenItem5"\n                    text="2029"\n                /><core:Item\n                    id="_IDGenItem6"\n                    text="2030"\n                /></Select><Select id="ListaMes"><core:Item\n                    id="_IDGenItem7"\n                    text="1"\n                /><core:Item\n                    id="_IDGenItem8"\n                    text="2"\n                /><core:Item\n                    id="_IDGenItem9"\n                    text="3"\n                /><core:Item\n                    id="_IDGenItem10"\n                    text="4"\n                /><core:Item\n                    id="_IDGenItem11"\n                    text="5"\n                /><core:Item\n                    id="_IDGenItem12"\n                    text="6"\n                /><core:Item\n                    id="_IDGenItem13"\n                    text="7"\n                /><core:Item\n                    id="_IDGenItem14"\n                    text="8"\n                /><core:Item\n                    id="_IDGenItem15"\n                    text="9"\n                /><core:Item\n                    id="_IDGenItem16"\n                    text="10"\n                /><core:Item\n                    id="_IDGenItem17"\n                    text="11"\n                /><core:Item\n                    id="_IDGenItem18"\n                    text="12"\n                /></Select><Button\n                id="_IDGenButton"\n                text="Buscar"\n                press="handler.onBuscarSimulação"\n            /></HBox><layout:SimpleForm\n            id="form"\n            layout="ResponsiveGridLayout"\n            editable="true"\n            class="sapUiSmallMargin"\n            width="300px"\n        ><Label id="_IDGenLabel16"  text="Total Do Mês" /><ObjectNumber\n                id="TotalDoMes"\n                number="{FaturaAtual>Valor}"\n                unit="{FaturaAtual>Moeda_code}"\n            /><Label id="_IDGenLabel17"\n                text="Total De Gastos"\n            /><ObjectNumber\n                id="TotalDeGastos"\n                number=""\n                unit=""\n            /><Label id="_IDGenLabel12"\n                text="Valor à Economizar"\n            /><ObjectNumber\n                id="ValorAEconomizar"\n                number=""\n                unit=""\n            /></layout:SimpleForm></VBox></core:FragmentDefinition>\n',
	"apps/dflc/gestaogastos/ext/fragment/PrevisaoDeGasto.js":function(){
sap.ui.define(["sap/m/MessageToast"],function(e){"use strict";return{onInit:function(e){console.log(e)},"onBuscarSimulação":function(e){let t=this.getModel();var o=()=>new Promise((e,t)=>{let o=this.byId("ListaAno").getSelectedItem().getText();let s=this.byId("ListaMes").getSelectedItem().getText();const n={pessoa:this.getBindingContext().getObject().ID,mes:s,ano:o};try{fetch("/Gerenciamento",{method:"GET",headers:{"X-CSRF-Token":"Fetch"}}).then(function(e){if(!e.ok){throw new Error("Erro ao obter CSRF Token")}return e}.bind(this)).then(function(e){const t=e.headers.get("X-CSRF-Token");return t}.bind(this)).then(function(o){fetch("/Gerenciamento/simulaPorMesAno",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json","X-CSRF-Token":o},body:JSON.stringify(n)}).then(async function(t){console.log(t);let o=await t.json();let s=this.byId("TotalDoMes");let n=this.byId("TotalDeGastos");let a=this.byId("ValorAEconomizar");s.setNumber(o.TotalDoMes);s.setUnit(o.Moeda_code);n.setNumber(o.TotalDeGastos);n.setUnit(o.Moeda_code);a.setNumber(o.ValorAEconomizar);a.setUnit(o.Moeda_code);e()}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e);t()})}.bind(this)).catch(function(e){sap.m.MessageToast.show("Erro ao obter csrf token: "+e);t()})}catch(e){sap.m.MessageToast.show("Erro ao chamar serviço: "+e.message)}});let s={busy:{set:true,check:true},dataloss:{popup:true,navigation:false}};this.editFlow.securedExecution(o,s).finally(e=>{console.log(e)})}}});
},
	"apps/dflc/gestaogastos/i18n/i18n.properties":'# This is the resource bundle for apps.dflc.gestaogastos\n\n#Texts for manifest.json\n\n#XTIT: Application name\nappTitle=Gest\\u00e3o De Gastos\n\n#YDES: Application description\nappDescription=Gest\\u00e3o De Gastos\n\n#XTIT: Custom section title\nfiltrarPrevisoDeGasto=Filtrar Previs\\u00e3o de Gasto\n\n#XBUT,45\nadicionarGasto=Adicionar Gasto\n\n#XBUT,51\nexcluirTransao=Excluir Transa\\u00e7\\u00e3o\n\n#XCOL: Custom action text\nbackup=Backup\n\n#XTIT: Custom section title\nfaturaAtual=Fatura Atual\n',
	"apps/dflc/gestaogastos/manifest.json":'{"_version":"1.65.0","sap.app":{"id":"apps.dflc.gestaogastos","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"0.0.1"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:lrop","version":"1.16.1","toolsId":"b5fab8be-a8a4-4bf3-96db-079ae62fac4e"},"dataSources":{"mainService":{"uri":"../Gerenciamento/","type":"OData","settings":{"annotations":[],"odataVersion":"4.0"}}},"crossNavigation":{"inbounds":{"gestaogastos-display":{"semanticObject":"gestaogastos","action":"display","signature":{"parameters":{},"additionalParameters":"allowed"}}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"dependencies":{"minUI5Version":"1.131.1","libs":{"sap.m":{},"sap.ui.core":{},"sap.fe.templates":{},"sap.f":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"apps.dflc.gestaogastos.i18n.i18n"}},"":{"dataSource":"mainService","preload":true,"settings":{"operationMode":"Server","autoExpandSelect":true,"earlyRequests":true}},"@i18n":{"type":"sap.ui.model.resource.ResourceModel","uri":"i18n/i18n.properties"},"Variantes":{}},"resources":{"css":[]},"routing":{"config":{"flexibleColumnLayout":{"defaultTwoColumnLayoutType":"TwoColumnsMidExpanded","defaultThreeColumnLayoutType":"ThreeColumnsMidExpanded"},"routerClass":"sap.f.routing.Router"},"routes":[{"pattern":":?query:","name":"PessoaList","target":["PessoaList"]},{"pattern":"Pessoa({key}):?query:","name":"PessoaObjectPage","target":["PessoaList","PessoaObjectPage"]},{"pattern":"Pessoa({key})/Cartao({key2}):?query:","name":"CartaoObjectPage","target":["PessoaList","PessoaObjectPage","CartaoObjectPage"]},{"name":"Pessoa_Cartao_FaturaObjectPage","pattern":"Pessoa({key})/Cartao({key2})/Fatura({FaturaKey}):?query:","target":["Pessoa_Cartao_FaturaObjectPage"]},{"name":"Pessoa_Cartao_Fatura_TransacoesObjectPage","pattern":"Pessoa({key})/Cartao({key2})/Fatura({FaturaKey})/Transacoes({TransacoesKey}):?query:","target":["Pessoa_Cartao_Fatura_TransacoesObjectPage"]}],"targets":{"PessoaList":{"type":"Component","id":"PessoaList","name":"sap.fe.templates.ListReport","options":{"settings":{"contextPath":"/Pessoa","variantManagement":"Page","navigation":{"Pessoa":{"detail":{"route":"PessoaObjectPage"}}},"controlConfiguration":{"@com.sap.vocabularies.UI.v1.LineItem":{"tableSettings":{"type":"ResponsiveTable","personalization":{"column":true},"quickVariantSelection":{"hideTableTitle":true}}}},"content":{"header":{"actions":{"Backup":{"press":"apps.dflc.gestaogastos.ext.controller.Backup.backup","visible":true,"enabled":true,"text":"{i18n>backup}"}}}},"initialLoad":"Enabled"}},"controlAggregation":"beginColumnPages","contextPattern":""},"PessoaObjectPage":{"type":"Component","id":"PessoaObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Pessoa","navigation":{"Cartao":{"detail":{"route":"CartaoObjectPage"}}},"content":{"body":{"sections":{"Dados":{"subSections":{"PrevisaoDeGasto":{"template":"apps.dflc.gestaogastos.ext.fragment.PrevisaoDeGasto","title":"{i18n>filtrarPrevisoDeGasto}"}}}}},"header":{"actions":{"AdicionarGasto":{"press":"apps.dflc.gestaogastos.ext.controller.AdicionarGasto.adicionarGasto","visible":true,"enabled":true,"requiresSelection":false,"text":"{@i18n>adicionarGasto}"}}}},"controlConfiguration":{"Cartao/@com.sap.vocabularies.UI.v1.LineItem#i18nCartes":{"tableSettings":{"creationMode":{"name":"Inline"},"type":"ResponsiveTable"}}}}},"controlAggregation":"midColumnPages","contextPattern":"/Pessoa({key})"},"CartaoObjectPage":{"type":"Component","id":"CartaoObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"editableHeaderContent":false,"contextPath":"/Pessoa/Cartao","navigation":{"Fatura":{"detail":{"route":"Pessoa_Cartao_FaturaObjectPage"}}},"content":{"body":{"sections":{"FaturaAtual":{"template":"apps.dflc.gestaogastos.ext.fragment.FaturaAtual","position":{"placement":"After","anchor":"i18nDados"},"title":"{i18n>faturaAtual}"}}}},"showRelatedApps":false}},"controlAggregation":"endColumnPages","contextPattern":"/Pessoa({key})/Cartao({key2})"},"Pessoa_Cartao_FaturaObjectPage":{"type":"Component","id":"Pessoa_Cartao_FaturaObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"navigation":{"Transacoes":{"detail":{"route":"Pessoa_Cartao_Fatura_TransacoesObjectPage"}}},"contextPath":"/Pessoa/Cartao/Fatura","content":{"header":{"actions":{}}},"controlConfiguration":{"Transacoes/@com.sap.vocabularies.UI.v1.LineItem#i18nTransaescompras":{"actions":{"ExcluirTransacaoo":{"press":"apps.dflc.gestaogastos.ext.controller.ExcluirTransacao.excluirTransacao","visible":true,"enabled":true,"requiresSelection":true,"text":"{i18n>excluirTransao}"}},"tableSettings":{"selectAll":false,"selectionMode":"Single"}}}}},"controlAggregation":"endColumnPages","contextPattern":"/Pessoa({key})/Cartao({key2})/Fatura({FaturaKey})"},"Pessoa_Cartao_Fatura_TransacoesObjectPage":{"type":"Component","id":"Pessoa_Cartao_Fatura_TransacoesObjectPage","name":"sap.fe.templates.ObjectPage","options":{"settings":{"navigation":{},"contextPath":"/Pessoa/Cartao/Fatura/Transacoes"}},"controlAggregation":"endColumnPages","contextPattern":"/Pessoa({key})/Cartao({key2})/Fatura({FaturaKey})/Transacoes({TransacoesKey})"}}},"extends":{"extensions":{"sap.ui.controllerExtensions":{"sap.fe.templates.ObjectPage.ObjectPageController#apps.dflc.gestaogastos::CartaoObjectPage":{"controllerName":"apps.dflc.gestaogastos.ext.controller.CartaoObjeto"},"sap.fe.templates.ObjectPage.ObjectPageController#apps.dflc.gestaogastos::PessoaObjectPage":{"controllerName":"apps.dflc.gestaogastos.ext.controller.PessoaObjeto"}}}},"rootView":{"viewName":"sap.fe.templates.RootContainer.view.Fcl","type":"XML","async":true,"id":"appRootView"}},"sap.fiori":{"registrationIds":[],"archeType":"transactional"},"sap.cloud":{"public":true,"service":"GestorDeGastos.service"}}'
>>>>>>> 7f01fe1936688df1011ce89337a57e281209142a
});
//# sourceMappingURL=Component-preload.js.map
